(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{145:function(e,t,n){},219:function(e,t,n){e.exports=n.p+"static/media/gateau1.e30c0b66.png"},220:function(e,t,n){e.exports=n.p+"static/media/gateau10.986a0ca2.png"},221:function(e,t,n){e.exports=n.p+"static/media/gateau3.a5b0917a.png"},222:function(e,t,n){e.exports=n.p+"static/media/gateau11.97725a2e.png"},223:function(e,t,n){e.exports=n.p+"static/media/gateau5.841dc0c2.png"},224:function(e,t,n){e.exports=n.p+"static/media/gateau6.b8c787a7.png"},225:function(e,t,n){e.exports=n.p+"static/media/gateau7.c631710d.png"},226:function(e,t,n){e.exports=n.p+"static/media/gateau9.58dffcc2.png"},227:function(e,t,n){e.exports=n.p+"static/media/cheesecake.d7cd6a0e.png"},229:function(e,t,n){e.exports=n.p+"static/media/IMG_carte.ebf33887.jpg"},231:function(e,t,n){e.exports=n.p+"static/media/IMG_0987.b00d377a.JPG"},232:function(e,t,n){e.exports=n.p+"static/media/IMG_2222.ce0096cb.JPG"},233:function(e,t,n){e.exports=n.p+"static/media/IMG_2247.20d5f607.jpg"},234:function(e,t,n){e.exports=n.p+"static/media/IMG_2459.373ba26f.JPG"},235:function(e,t,n){e.exports=n.p+"static/media/IMG_5546.e8621580.JPG"},236:function(e,t,n){e.exports=n.p+"static/media/IMG-9746.03b0da82.JPG"},237:function(e,t){e.exports="data:image/png;base64,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"},238:function(e,t,n){e.exports=n.p+"static/media/logoInstaColor.03f40b67.png"},239:function(e,t,n){e.exports=n.p+"static/media/logoTripAdvColor.59682287.png"},240:function(e,t,n){e.exports=n.p+"static/media/phototeam.75f47183.jpg"},243:function(e,t,n){e.exports=n.p+"static/media/LOGO_GILUNA.5a544447.png"},246:function(e,t,n){e.exports=n(651)},255:function(e,t,n){},279:function(e,t,n){},281:function(e,t,n){},283:function(e,t,n){},285:function(e,t,n){},287:function(e,t,n){},289:function(e,t,n){},291:function(e,t,n){},311:function(e,t,n){},315:function(e,t,n){},486:function(e,t,n){},488:function(e,t,n){},502:function(e,t,n){},640:function(e,t,n){},642:function(e,t,n){},644:function(e,t,n){},646:function(e,t,n){},651:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(23),l=n.n(c),i=n(33),o=n(4),s=n(217),u=(n(255),n(7)),m=n(8),d=n(11),p=n(9),g=n(10),f=n(653),E=n(656),h=n(277),b=n(127),A=n.n(b),y=n(6),v=n.n(y),C=n(2),k=function(e){return{type:"ALERT",message:e}},D=Object(o.b)(function(e){return{alertState:e.alert}},function(e){return{alertAction:function(t){return e(k(t))}}})(function(e){var t=e.alertState,n=e.alertAction,a=e.className;return r.a.createElement("div",{onKeyPress:function(e){"Enter"===e.key&&n("")}},r.a.createElement(C.k,{backdrop:"static",style:{top:"30%"},isOpen:t.alert,toggle:n,className:a},r.a.createElement(C.l,{style:{textAlign:"center"}},t.message),r.a.createElement(C.m,{style:{justifyContent:"center"}},r.a.createElement(C.b,{autoFocus:!0,color:"secondary",onClick:function(){return n("")}},"OK"))))}),O=n(655),j=n(276),w=n(219),S=n.n(w),N=n(220),x=n.n(N),I=n(221),z=n.n(I),V=n(222),P=n.n(V),B=n(223),T=n.n(B),M=n(224),F=n.n(M),L=n(225),q=n.n(L),G=n(226),Q=n.n(G),U=Object(o.b)(function(e){return{description:e.descriptions.homePage}})(function(e){var t=e.description;return r.a.createElement(C.e,{fluid:!0},r.a.createElement(C.q,{className:"header-body-hp"},r.a.createElement(C.d,{md:12},r.a.createElement("div",{className:"bloc-ti-hp"},r.a.createElement("title-homepage",null,"Bienvenue sur Pimp-my-cake.fr !"),r.a.createElement("s-title1",null,"Cr\xe9ez votre g\xe2teau personnalis\xe9 en ligne, pour un r\xe9sultat qui vous ressemble!")))),r.a.createElement(C.q,{className:"body-row"},r.a.createElement(C.d,{md:12},r.a.createElement(C.q,null,r.a.createElement("div",{id:"text-homepage"},r.a.createElement("s-title2",null,"Fabriquez un g\xe2teau unique, choisissez la garniture, le gla\xe7age et la d\xe9coration n\xe9cessaire pour un g\xe2teau \xe0 la hauteur de votre \xe9v\xe9nement! "),t,r.a.createElement(j.a,{to:"".concat("","/mycake")},r.a.createElement("button",{type:"button",id:"enterButton",className:"btn-start-cake"},"Commencez votre g\xe2teau"))))),r.a.createElement(C.d,{md:12,className:"the-gallery"},r.a.createElement("section",null,r.a.createElement("ul",{className:"meals-showcase clearfix"},r.a.createElement("li",null,r.a.createElement("figure",{className:"meal-photo"},r.a.createElement("img",{src:S.a,alt:"Un Super Gateau"}))),r.a.createElement("li",null,r.a.createElement("figure",{className:"meal-photo"},r.a.createElement("img",{src:x.a,alt:"Un Super Gateau"}))),r.a.createElement("li",null,r.a.createElement("figure",{className:"meal-photo"},r.a.createElement("img",{src:z.a,alt:"Un Super Gateau"}))),r.a.createElement("li",null,r.a.createElement("figure",{className:"meal-photo"},r.a.createElement("img",{src:P.a,alt:"Un Super Gateau"})))),r.a.createElement("ul",{className:"meals-showcase clearfix"},r.a.createElement("li",null,r.a.createElement("figure",{className:"meal-photo"},r.a.createElement("img",{src:T.a,alt:"Un Super Gateau"}))),r.a.createElement("li",null,r.a.createElement("figure",{className:"meal-photo"},r.a.createElement("img",{src:F.a,alt:"Un Super Gateau"}))),r.a.createElement("li",null,r.a.createElement("figure",{className:"meal-photo"},r.a.createElement("img",{src:q.a,alt:"Un Super Gateau"}))),r.a.createElement("li",null,r.a.createElement("figure",{className:"meal-photo"},r.a.createElement("img",{src:Q.a,alt:"Un Super Gateau"}))))))))}),_=n(652),R=function(e){return{type:"CHANGE_INDEX",payload:e}},H=function(e){return{type:"UPDATE_INDEX_VIA_PROGRESSBAR",payload:e}},Y=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).translateIndexToRoute=function(e,t){var n=["".concat("","/mycake"),"".concat("","/mycake/composition"),"".concat("","/mycake/customCake"),"".concat("","/mycake/orderDetail"),"".concat("","/mycake/userInfo")];if("cookie"===t||"macaron"===t||"brownie"===t)return n[e];switch(e){case 1:return n[1];case 4:return n[2];case 5:return n[3];case 6:return n[4];default:return n[1]}},n.getTitle=function(){var e=n.props,t=e.cake;if(1===e.pageIndex){if(""===t.type)return"Choisissez votre g\xe2teau";if("cake"===t.type)return"Choisissez la taille de votre g\xe2teau";if("cookie"===t.type||"macaron"===t.type||"brownie"===t.type)return"Choisissez la taille et le nombre de vos douceurs"}},n.handleClick=function(e){var t=n.props,a=t.pageIndex,r=t.deliveryDate,c=t.cake,l=t.changePageIndex,i=t.actionAlert;r||6!==a&&(4!==a||["cake","cheesecake"].includes(c.type))?l(1):(e.preventDefault(),i("Veuillez renseigner une date de retrait"))},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.pageIndex,a=t.type,c=t.disabled;t.changePageIndex;return r.a.createElement("div",null,r.a.createElement(_.a,{to:this.translateIndexToRoute(n,a)},r.a.createElement("button",{title:this.getTitle(),disabled:c,type:"button",onClick:function(t){return e.handleClick(t)},className:"btn-prev-next"},"Suivant")))}}]),t}(a.Component),J=Object(o.b)(function(e){return{dispatch:e.dispatch,pageIndex:e.pageIndex,type:e.cakeCharacteristics.type,cake:e.cakeCharacteristics,deliveryDate:e.orderCharacteristics.delivery_date}},function(e){return{changePageIndex:function(t){return e(R(t))},actionAlert:function(t){return e(k(t))}}})(Y),K=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).translateIndexToRoute=function(e,t){var n=["".concat("","/mycake"),"".concat("","/mycake/composition"),"".concat("","/mycake/customCake"),"".concat("","/mycake/orderDetail"),"".concat("","/mycake/userInfo")];if("cookie"===t||"macaron"===t||"brownie"===t)return n[e-2];switch(e){case 2:return n[0];case 5:return n[1];case 6:return n[2];case 7:return n[3];default:return n[1]}},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.pageIndex,n=e.type,a=e.changePageIndex;return r.a.createElement("div",null,r.a.createElement(_.a,{to:this.translateIndexToRoute(t,n)},r.a.createElement("button",{type:"button",onClick:function(){return a(-1)},className:"btn-prev-next"},"Pr\xe9c\xe9dent")))}}]),t}(a.Component),Z=Object(o.b)(function(e){return{dispatch:e.dispatch,pageIndex:e.pageIndex,type:e.cakeCharacteristics.type}},function(e){return{changePageIndex:function(t){return e(R(t))}}})(K),W=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(c)))).changeLayoutviaPageindex=function(e,t,n,a){var c=!0;return 1===e?(("cake"===n.type&&n.size>0&&n.story>=Math.ceil(n.size/25)&&n.story<=Math.ceil(n.size/5)||"cheesecake"===n.type||("cookie"===n.type||"brownie"===n.type)&&0!==n.size&&n.quantity>1||"macaron"===n.type&&0!==n.size&&n.quantity>=6)&&(c=!1),r.a.createElement("div",{className:"btn-group"},r.a.createElement(J,{disabled:c}))):7===e||5===e&&"cookie"===t||5===e&&"macaron"===t||5===e&&"brownie"===t?r.a.createElement("div",{className:"btn-group"},r.a.createElement(Z,null)):2===e&&0===n.ingredients.length?r.a.createElement("div",{className:"btn-group"},r.a.createElement(Z,null),r.a.createElement(J,{disabled:!0})):r.a.createElement("div",{className:"btn-group"},r.a.createElement(Z,null),r.a.createElement(J,{disabled:!1}))},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.pageIndex,n=e.type,a=e.cake,r=e.deliveryDate;return this.changeLayoutviaPageindex(t,n,a,r)}}]),t}(a.Component),X=Object(o.b)(function(e){return{pageIndex:e.pageIndex,type:e.cakeCharacteristics.type,cake:e.cakeCharacteristics,deliveryDate:e.orderCharacteristics.delivery_date}})(W),$=function(e){return{type:"CHANGE_CAKE_TYPE",payload:{type:e,size:0,story:1,quantity:1,occasion:"",ingredients:[],comment:"",price:0,time:2}}},ee=function(e){return{type:"CHANGE_CAKE_SIZE",payload:e}},te=function(e){return{type:"CHANGE_CAKE_STORY",payload:e}},ne=(n(279),function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).saveCakeInfo=function(e){clearTimeout(n.timeout),/^[1-9]\d*$/.test(e)||e.replace(""),n.timeout=setTimeout(function(){n.saveCakeSize(e)},500)},n.saveCakeSize=function(e){var t=n.props,a=t.selectCakeSize,r=t.selectCakeStory;if(n.setState({size:e}),e>=5){n.setState({minStory:Math.ceil(e/25),maxStory:Math.ceil(e/5),story:Math.ceil(e/25)});var c=n.state.story;a(parseInt(e,10)),r(parseInt(c,10))}},n.saveCakeStory=function(e){var t=n.props.selectCakeStory;n.setState({story:e}),t(parseInt(e,10))},n.state={size:"",minStory:1,story:1,maxStory:2},n.timeout=null,n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.story,a=t.minStory,c=t.maxStory,l=t.size,i=this.props.cake,o={visibility:l>0&&l<5?"visible":"hidden",color:"red",fontSize:"0.7em"},s=n<a?"Votre g\xe2teau ne peut pas faire moins de ".concat(a," \xe9tage(s)."):"Votre g\xe2teau ne peut pas faire plus de ".concat(c," \xe9tage(s)."),u={visibility:n<a||n>c?"visible":"hidden",color:"red",fontSize:"0.8em"};return r.a.createElement(C.e,{className:"b-cakesize-select"},r.a.createElement(C.q,null,r.a.createElement(C.j,{className:"lb-1"},"Choisissez la taille de votre g\xe2teau"),r.a.createElement(C.d,null,r.a.createElement(C.j,{className:"lb-2"},"Nombre de personnes : "),r.a.createElement("input",{onChange:function(t){return e.saveCakeInfo(t.target.value)},placeholder:i.size<5?"":i.size}),r.a.createElement("div",{style:o},"Vous ne pouvez pas commander pour moins de 5 personnes.")),r.a.createElement(C.d,null,r.a.createElement(C.j,{className:"lb-2"},"Nombre d'\xe9tages : "),r.a.createElement("input",{onChange:function(t){return e.saveCakeStory(t.target.value)},value:n}))),r.a.createElement(C.q,{style:u},s))}}]),t}(a.Component)),ae=Object(o.b)(function(e){return{cake:e.cakeCharacteristics}},function(e){return{selectCakeSize:function(t){return e(ee(t))},selectCakeStory:function(t){return e(te(t))},alertAction:function(t){return e(k(t))}}})(ne),re=function(e){return{type:"CHANGE_CAKE_AMOUNT",payload:e}},ce=(n(281),Object(o.b)(function(e){return{size:e.cakeCharacteristics.size}},function(e){return{selectCakeSize:function(t){return e(ee(t))},selectQuantity:function(t){return e(re(t))}}})(function(e){var t=e.size,n=e.selectCakeSize,a=e.selectQuantity;return r.a.createElement(C.e,{className:"macaronSizeSelection"},r.a.createElement(C.j,{className:"lb-1"},"Choisissez la taille & le nombre de Macarons souhait\xe9s :"),r.a.createElement(C.q,null,r.a.createElement(C.b,{id:"smallMacaron",onClick:function(){return n("S")},className:"S"===t&&"selectionOutline"},"Petit"),r.a.createElement(C.b,{id:"bigMacaron",onClick:function(){return n("L")},className:"L"===t&&"selectionOutline"},"Gros")),r.a.createElement(C.q,{className:"row-nbr-choice"},r.a.createElement(C.d,{sm:"7"},r.a.createElement(C.i,{bsSize:"sm",placeholder:"Quantit\xe9 de macarons",onChange:function(e){return a(parseInt(e.target.value,10))}}))))})),le=(n(283),Object(o.b)(function(e){return{size:e.cakeCharacteristics.size}},function(e){return{selectCakeSize:function(t){return e(ee(t))},selectQuantity:function(t){return e(re(t))}}})(function(e){var t=e.size,n=e.selectCakeSize,a=e.selectQuantity;return r.a.createElement(C.e,{className:"cookieSizeSelection"},r.a.createElement(C.j,{className:"lb-1"},"Choisissez la taille de vos cookies"),r.a.createElement(C.q,{className:"sizeSelection"},r.a.createElement(C.d,{className:"sm-4"},r.a.createElement(C.b,{id:"smallCookie",onClick:function(){return n("S")},className:"S"===t&&"selectionOutline"},"Petit")),r.a.createElement(C.d,{className:"sm-4"},r.a.createElement(C.b,{id:"averageCookie",onClick:function(){return n("M")},className:"M"===t&&"selectionOutline"},"Moyen")),r.a.createElement(C.d,{className:"sm-4"},r.a.createElement(C.b,{id:"bigCookie",onClick:function(){return n("L")},className:"L"===t&&"selectionOutline"},"Gros"))),r.a.createElement(C.q,{className:"row-nbr-choice"},r.a.createElement(C.d,{sm:"7"},r.a.createElement("input",{placeholder:"Quantit\xe9 de cookies",onChange:function(e){return a(parseInt(e.target.value,10))}}))))})),ie=(n(285),Object(o.b)(function(e){return{size:e.cakeCharacteristics.size}},function(e){return{selectCakeSize:function(t){return e(ee(t))},selectQuantity:function(t){return e(re(t))}}})(function(e){var t=e.size,n=e.selectCakeSize,a=e.selectQuantity;return r.a.createElement(C.e,{className:"brownieSizeSelection"},r.a.createElement(C.j,{className:"lb-1"},"Choisissez la taille & le nombre de Brownies souhait\xe9s :"),r.a.createElement(C.q,null,r.a.createElement(C.d,{className:"sm-4"},r.a.createElement(C.b,{id:"smallBrownie",className:"S"===t&&"selectionOutline",onClick:function(){return n("S")}},"Petit")),r.a.createElement(C.d,{className:"sm-4"},r.a.createElement(C.b,{id:"averageBrownie",className:"M"===t&&"selectionOutline",onClick:function(){return n("M")}},"Moyen")),r.a.createElement(C.d,{className:"sm-4"},r.a.createElement(C.b,{id:"bigBrownie",className:"L"===t&&"selectionOutline",onClick:function(){return n("L")}},"Gros"))),r.a.createElement(C.q,{className:"row-nbr-choice"},r.a.createElement(C.d,{sm:"7"},r.a.createElement(C.i,{bsSize:"sm",placeholder:"Quantit\xe9 de brownies",onChange:function(e){return a(parseInt(e.target.value,10))}}))))})),oe=n(227),se=n.n(oe),ue=(n(287),function(){return r.a.createElement(C.e,{style:{minWidth:"100%"},className:"text-center"},r.a.createElement(C.q,{className:"cheesecakeSelection"},r.a.createElement(C.d,{className:"sm-4"},r.a.createElement("img",{src:se.a,alt:"cheese"}))))}),me=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(c)))).renderSizeSelection=function(e){switch(e){case"cake":return r.a.createElement(ae,null);case"macaron":return r.a.createElement(ce,null);case"cookie":return r.a.createElement(le,null);case"brownie":return r.a.createElement(ie,null);case"cheesecake":return r.a.createElement(ue,null);default:return r.a.createElement("div",null)}},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.cake;return this.renderSizeSelection(e.type)}}]),t}(a.Component),de=Object(o.b)(function(e){return{cake:e.cakeCharacteristics}},null)(me),pe=function(){return r.a.createElement("div",{className:"mt-3"},r.a.createElement("p",null,"Choisissez le nombre de personnes et/ou le nombre d\u2019\xe9tages."),r.a.createElement("p",null,"La commande minimale est pour",r.a.createElement("strong",null," 5 "),"personnes. Un \xe9tage repr\xe9sente",r.a.createElement("strong",null," 5 "),"\xe0",r.a.createElement("strong",null," 25 "),"parts."))},ge=function(){return r.a.createElement("div",null,r.a.createElement("p",null,"Les cheesecakes font",r.a.createElement("strong",null," 25 "),"cm de diam\xe8tre, et",r.a.createElement("strong",null," 7 "),"\xe0",r.a.createElement("strong",null," 8 "),"cm de hauteur."),r.a.createElement("p",null,"Le g\xe2teaux est pr\xe9vu pour",r.a.createElement("strong",null," 15 "),"\xe0",r.a.createElement("strong",null," 20 "),"personnes."))},fe=function(){return r.a.createElement("div",{className:"mt-3"},r.a.createElement("p",null,"Choisissez le nombre et la taille de vos cookies."),r.a.createElement("p",null,"Un petit cookie fait",r.a.createElement("strong",null," 50g "),", un moyen",r.a.createElement("strong",null," 80g "),"et un gros",r.a.createElement("strong",null," 110g "),"."))},Ee=function(){return r.a.createElement("div",{className:"mt-3"},r.a.createElement("p",null,"Choisissez le nombre et la taille de vos macarons."),r.a.createElement("p",null,"Un petit macaron fait",r.a.createElement("strong",{style:{color:"rgba(141, 29, 44, 0.8)"}}," 3 "),"cm de diam\xe8tre, un gros fait",r.a.createElement("strong",{style:{color:"rgba(141, 29, 44, 0.8)"}}," 8 "),"cm de diam\xe8tre."),r.a.createElement("p",null,"Vous devez commander au minimum",r.a.createElement("strong",{style:{color:"rgba(141, 29, 44, 0.8)"}}," 6 "),"macarons."))},he=function(){return r.a.createElement("div",{className:"mt-3"},r.a.createElement("p",null,"Choisissez le nombre et la taille de vos brownies."),r.a.createElement("p",null,"Un petit brownie fait",r.a.createElement("strong",null," 50g "),", un moyen",r.a.createElement("strong",null," 80g "),"et un gros",r.a.createElement("strong",null," 110g "),"."))},be=(n(67),Object(o.b)(function(e){return{cake:e.cakeCharacteristics}},null)(function(e){var t=e.cake;return r.a.createElement("div",{className:"body-tips"},r.a.createElement("div",{className:"title-tips"},"Les petites astuces"),function(e){switch(e){case"cake":return r.a.createElement(pe,null);case"cheesecake":return r.a.createElement(ge,null);case"cookie":return r.a.createElement(fe,null);case"macaron":return r.a.createElement(Ee,null);case"brownie":return r.a.createElement(he,null);default:return r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,"1. "),"S\xe9lectionnez le type de g\xe2teaux que vous souhaitez.",r.a.createElement("br",null),r.a.createElement("strong",null,"2. "),"Choisissez ensuite votre base, votre ganache et votre gla\xe7age.",r.a.createElement("br",null),r.a.createElement("strong",null,"3. "),"Ajoutez des gourmandises pour le rendre encore meilleur !",r.a.createElement("br",null),r.a.createElement("strong",null,"4. "),"\xc0 chaque \xe9v\xe9nement son g\xe2teau: embellissez votre cr\xe9ation avec une image, une d\xe9coration 3D, ou avec un texte personnalis\xe9 !"))}}(t.type))})),Ae=function(e){return{type:"CHANGE_CAKE_OCCASION",occasion:e}},ye=Object(o.b)(null,function(e){return{setOccasion:function(t){return e(Ae(t))}}})(function(e){var t=e.setOccasion;return r.a.createElement(C.i,{bsSize:"sm",type:"select",name:"select",onChange:function(e){return t(e.target.value)}},r.a.createElement("option",null),r.a.createElement("option",null,"Anniversaire d\u2019adulte"),r.a.createElement("option",null,"Anniversaire d\u2019enfant"),r.a.createElement("option",null,"Ap\xe9ro"),r.a.createElement("option",null,"Bapt\xeame"),r.a.createElement("option",null,"Babyshower, naissance"),r.a.createElement("option",null,"Brunch"),r.a.createElement("option",null,"Disney"),r.a.createElement("option",null,"F\xeate des m\xe8res"),r.a.createElement("option",null,"F\xeate des p\xe8res"),r.a.createElement("option",null,"Halloween"),r.a.createElement("option",null,"Mariage"),r.a.createElement("option",null,"Sport"),r.a.createElement("option",null,"Pot de d\xe9part"),r.a.createElement("option",null,"No\xebl"),r.a.createElement("option",null,"P\xe2ques"),r.a.createElement("option",null,"Remerciements"),r.a.createElement("option",null,"Enterrement de vie de fille/gar\xe7on"))}),ve=Object(o.b)(function(e){return{dispatch:e.dispatch,type:e.cakeCharacteristics.type}},function(e){return{localChangeCakeType:function(t){return e($(t))},resetCakeStories:function(){return e({type:"RESET_PIECES"})}}})(function(e){var t=e.type,n=e.localChangeCakeType,a=e.resetCakeStories;return r.a.createElement(C.e,{className:"body-row"},r.a.createElement(C.q,{className:"justify-content-around"},r.a.createElement(C.d,{sm:"12"},r.a.createElement("div",{className:"labels-perso-btn-douceurs"},"Choisissez votre type de douceur :"))),r.a.createElement(C.q,{className:"b-ligne-button"},r.a.createElement(C.d,{sm:"2"},r.a.createElement("button",{type:"button",className:"typeButton ".concat("cookie"===t&&"selectionOutline"),id:"cookieButton",title:"A partir de 2,5\u20ac",onClick:function(){n("cookie"),a()}},r.a.createElement("txt-btn-sweet",null,"Cookie"))),r.a.createElement(C.d,{sm:"2"},r.a.createElement("button",{type:"button",className:"typeButton ".concat("cake"===t&&"selectionOutline"),id:"cakeButton",title:"A partir de 8\u20ac",onClick:function(){n("cake"),a()}},r.a.createElement("txt-btn-sweet",null,"Cake"))),r.a.createElement(C.d,{sm:"2"},r.a.createElement("button",{type:"button",className:"typeButton ".concat("cheesecake"===t&&"selectionOutline"),id:"cheesecakeButton",title:"A partir de 8\u20ac",onClick:function(){n("cheesecake"),a()}},r.a.createElement("txt-btn-sweet",null,"Cheesecake"))),r.a.createElement(C.d,{sm:"2"},r.a.createElement("button",{type:"button",className:"typeButton ".concat("macaron"===t&&"selectionOutline"),id:"macaronButton",title:"A partir de 2,5\u20ac",onClick:function(){n("macaron"),a()}},r.a.createElement("txt-btn-sweet",null,"Macarons"))),r.a.createElement(C.d,{sm:"2"},r.a.createElement("button",{type:"button",className:"typeButton ".concat("brownie"===t&&"selectionOutline"),id:"brownieButton",title:"A partir de 2,5\u20ac",onClick:function(){n("brownie"),a()}},r.a.createElement("txt-btn-sweet",null,"Brownies")))),r.a.createElement(C.q,{className:"mt-5 justify-content-around"},r.a.createElement(C.d,{sm:"6"},r.a.createElement(C.j,{for:"choix_occasion",className:"lb-0"},"Pour quelle occasion voulez-vous votre d\xe9lice ?"),r.a.createElement(ye,null),r.a.createElement(de,null)),r.a.createElement(C.d,{sm:"5",className:"tipsColumn"},r.a.createElement(C.q,null,r.a.createElement(be,null)))),r.a.createElement("div",{className:"btn-group"},r.a.createElement(X,null)))}),Ce=n(654),ke=function(e){return{type:"ADD_INGREDIENT",item:e}},De=n(12),Oe=function(e,t){return Object(De.a)({},e,{price:e.price*function(){switch(t.type){case"cake":return t.size;case"cheesecake":return 16;default:return t.quantity}}()})},je=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(p.a)(t).call(this))).getFullDescripion=function(){var t=e.props.ingredient,n="";return t.allergenes?t.portion&&(n="Giluna recommande une portion de ".concat(t.portion)):(t.portion&&(n="Allerg\xe8nes: ".concat(t.allerg,".\n        Giluna recommande une portion de ").concat(t.portion)),n="Allerg\xe8nes: ".concat(t.allerg)),n},e.state={photo:""},e}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.ingredient;v.a.get("/api/image/get/".concat(t.image)).then(function(t){e.setState({photo:"data:image/jpg;base64,".concat(t.data)})})}},{key:"render",value:function(){var e=this.props,t=e.ingredient,n=e.addNewIngredient,a=e.disabled,c=e.cake,l=this.state.photo,i=a&&"grayscale(80%)",o=a?"grey":"black",s=Oe(t,c),u=t.colorCode?t.colorCode:"transparent";return r.a.createElement(C.d,{className:"ingredient"},r.a.createElement(C.b,{disabled:a,style:{filter:i,backgroundColor:u},size:"sm",onClick:function(){return n(s)}},r.a.createElement("span",{className:"badge badge-light"},s.price," \u20ac"),r.a.createElement("img",{src:l,title:this.getFullDescripion(),alt:"banane"})),r.a.createElement(C.d,null,r.a.createElement("p",{style:{color:o,fontWeight:"bold",textAlign:"center",marginTop:"10px"}},t.name),r.a.createElement("p",{style:{color:o,textAlign:"left"}},t.description)))}}]),t}(a.Component),we=Object(o.b)(function(e){return{cake:e.cakeCharacteristics}},function(e){return{addNewIngredient:function(t){return e(ke(t))}}})(je),Se=Object(o.b)(function(e){return{cake:e.cakeCharacteristics}})(function(e){var t=function(e,t){var n=0;return e.ingredients.map(function(e){return e.type===t&&(n+=1),null}),n};return function(e,n){var a=t(n,"Base"),c=t(n,"Garniture"),l=t(n,"Gla\xe7age"),i=t(n,"Toppings"),o=function(e){var t=[];if(e.ingredients.length>0)for(var n=function(n){t=e.ingredients[0].compatible.filter(function(t){return-1!==e.ingredients[n].compatible.indexOf(t)})},a=0;a<e.ingredients.length;a+=1)n(a);return t}(n),s=function(e,t){if(t.length>0)for(var n=0;n<e.length;n+=1)e[n].isCompatible=-1!==t.indexOf(e[n].name);return e.sort(function(e,t){return e.isCompatible?-1:(!e.isCompatible&&t.isCompatible,1)}),e}(e,o),u=[];return s.map(function(e){var t=!e.dispo||o.length>0&&o.indexOf(e.name)<0||"Base"===e.type&&1===a||"Garniture"===e.type&&2===c||"Gla\xe7age"===e.type&&1===l||"Toppings"===e.type&&3===i||("Base cookie"===e.type||"Base brownie"===e.type||"Macaron"===e.type||"Coquille"===e.type)&&e.size!==n.size;return u.push(r.a.createElement(we,{ingredient:e,disabled:t,key:e.name})),u}),u}(e.elementToDisplay,e.cake)}),Ne=function(e){return{type:"CHANGE_CAKE_BASE",payload:e}},xe=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(c)))).modifyCakeBase=function(e,t){(0,n.props.updateType)("".concat(e," aux ").concat(t))},n.renderSupplement=function(e){var t=[];return"cake"===e.type&&e.ingredients.length>0&&"Base carotte"===e.ingredients[0].name&&t.push(r.a.createElement("p",{key:e.ingredients[0].name},"Voulez-vous ajouter un ingr\xe9dient \xe0 la base de votre g\xe2teau ?"),r.a.createElement(C.i,{type:"select",name:"select",onChange:function(t){return n.modifyCakeBase(e.ingredients[0].name,t.target.value)}},r.a.createElement("option",null),r.a.createElement("option",null,"Noisettes"),r.a.createElement("option",null,"Noix"),r.a.createElement("option",null,"Amandes"))),t},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.cake;return r.a.createElement("div",null,this.renderSupplement(e))}}]),t}(a.Component),Ie=Object(o.b)(function(e){return{cake:e.cakeCharacteristics}},function(e){return{updateType:function(t){return e(Ne(t))}}})(xe),ze=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(c)))).renderStructure=function(e,t,a,c,l,i,o){var s,u=null;2===o?(s="cheesecake"===e.type?i:t,u=r.a.createElement(C.e,null,r.a.createElement(C.q,{className:"compo-zone"},r.a.createElement(C.d,{lg:"12"},r.a.createElement("title-compo",null,"Choisissez votre ",s[0].type)),r.a.createElement(C.d,{lg:"12"},r.a.createElement(Se,{elementToDisplay:s}),r.a.createElement(Ie,null))))):3===o?u="cake"===e.type?r.a.createElement(C.e,null,r.a.createElement(C.q,{className:"compo-zone"},r.a.createElement(C.d,{sm:"6"},r.a.createElement(C.q,null,r.a.createElement("h1",null,c[0].type)),r.a.createElement(C.q,null,r.a.createElement(Se,{elementToDisplay:c}))),r.a.createElement(C.d,{sm:"6"},r.a.createElement(C.q,null,r.a.createElement("h1",null,a[0].type)),r.a.createElement(C.q,null,r.a.createElement(Se,{elementToDisplay:a}))))):r.a.createElement(C.e,null,r.a.createElement(C.q,{className:"compo-zone"},r.a.createElement(C.q,null,r.a.createElement("h1",null,a[0].type)),r.a.createElement(C.q,{className:"w-100 mx-auto"},r.a.createElement(Se,{elementToDisplay:a})))):4===o&&(u=r.a.createElement(C.e,null,r.a.createElement(C.q,{className:"compo-zone"},r.a.createElement(C.q,null,r.a.createElement("h1",null,l[0].type)),r.a.createElement(C.q,{className:"w-100 mx-auto"},r.a.createElement(Se,{elementToDisplay:l})))));var m=n.props.setPageIndex;return null===u?(m(1),r.a.createElement(Ce.a,{to:"/mycake"})):u},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.cake,n=e.bases,a=e.icings,r=e.fillings,c=e.toppings,l=e.flavor,i=e.index;return this.renderStructure(t,n,a,r,c,l,i)}}]),t}(a.Component),Ve=Object(o.b)(function(e){return{cake:e.cakeCharacteristics,bases:e.ingredients.filter(function(e){return"Base"===e.type}),fillings:e.ingredients.filter(function(e){return"Garniture"===e.type}),icings:e.ingredients.filter(function(e){return"Gla\xe7age"===e.type}),flavor:e.ingredients.filter(function(e){return"Parfum"===e.type}),toppings:e.ingredients.filter(function(e){return"Toppings"===e.type}),index:e.pageIndex}},function(e){return{setPageIndex:function(t){return e(H(t))}}})(ze),Pe=Object(o.b)(function(e){return{flavor:e.ingredients.filter(function(e){return"Macaron"===e.type}),shell:e.ingredients.filter(function(e){return"Coquille"===e.type})}})(function(e){var t=e.flavor,n=e.shell;return r.a.createElement(C.q,{className:"displayIngredient"},r.a.createElement(C.d,{sm:"6",style:{height:"auto"}},r.a.createElement(C.q,{style:{position:"sticky",top:"0"}},r.a.createElement("h1",null,t[0].type)),r.a.createElement(C.q,null,r.a.createElement(Se,{elementToDisplay:t}))),r.a.createElement(C.d,{sm:"6",style:{height:"auto"}},r.a.createElement(C.q,null,r.a.createElement("h1",null,n[0].type)),r.a.createElement(C.q,null,r.a.createElement(Se,{elementToDisplay:n}))))}),Be=Object(o.b)(function(e){return{bases:e.ingredients.filter(function(e){return"Base cookie"===e.type})}})(function(e){var t=e.bases;return r.a.createElement(C.q,{className:"displayIngredient"},r.a.createElement(C.d,{sm:"12"},r.a.createElement("h1",null,t[0].type)),r.a.createElement(C.d,{sm:"12",style:{display:"flex",flexDirection:"row"}},r.a.createElement(Se,{elementToDisplay:t})))}),Te=Object(o.b)(function(e){return{bases:e.ingredients.filter(function(e){return"Base brownie"===e.type})}})(function(e){var t=e.bases;return r.a.createElement(C.q,{className:"compo-zone"},r.a.createElement(C.d,{lg:"12"},r.a.createElement("br",null),r.a.createElement("title-compo",null,"Choisissez votre ",t[0].type)),r.a.createElement(C.d,{lg:"12"},r.a.createElement(Se,{elementToDisplay:t})))}),Me=(n(289),function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).redirect=function(e){var t=n.props,a=t.history,r=t.setPageIndex;"cake"===e.type||"cheesecake"===e.type?r(5):r(3),a.push("".concat("","/mycake/customCake"))},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"back-btn"},r.a.createElement(X,null))}}]),t}(a.Component)),Fe=Object(O.a)(Object(o.b)(function(e){return{cake:e.cakeCharacteristics}},function(e){return{setPageIndex:function(t){return e(H(t))}}})(Me)),Le=(n(291),function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(c)))).handleClick=function(e,t){var a=n.props,r=a.ingredient,c=a.indexUpdate,l=a.deliveryDate,i=a.type,o=a.actionAlert,s=a.page;r.length>0?!s||"confirmation"!==s||("cake"===i||"cheesecake"===i?5!==t||l:3!==t||l)?("cake"===i||"cheesecake"===i?5!==t||l:3!==t||l)?c(t+2):(o("Veuillez terminer votre composition avant d\u2019acc\xe9der \xe0 cette page"),e.preventDefault()):(o("Veuillez renseigner une date de retrait"),e.preventDefault()):e.preventDefault()},n.createProgressElements=function(e,t){var a="cake"===e||"cheesecake"===e?["Base","Glacage & Garniture","Toppings","Personnalisation","Order Details","Client Information"]:["Base","Personnalisation","Order Details","Client Information"],c=t;return("cake"===e||"cheesecake"===e?["/mycake/composition","/mycake/composition","/mycake/composition","/mycake/customCake","/mycake/orderDetail","/mycake/userInfo"]:["/mycake/composition","/mycake/customCake","/mycake/orderDetail","/mycake/userInfo"]).map(function(e,t){return(c-=1)<=0?r.a.createElement("li",{className:"inactiveProgress text-center",key:t},r.a.createElement(_.a,{to:e,onClick:function(e){return n.handleClick(e,t)}},a[t])):r.a.createElement("li",{className:"activeProgress text-center",key:t},r.a.createElement(_.a,{to:e,onClick:function(e){return n.handleClick(e,t)}},a[t]))})},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.index;return r.a.createElement("ul",{className:"progressBar"},this.createProgressElements(t,n))}}]),t}(a.Component)),qe=Object(o.b)(function(e){return{index:e.pageIndex,type:e.cakeCharacteristics.type,ingredient:e.cakeCharacteristics.ingredients,deliveryDate:e.orderCharacteristics.delivery_date}},function(e){return{indexUpdate:function(t){return e(H(t))},actionAlert:function(t){return e(k(t))}}})(Le),Ge=Object(o.b)(function(e){return{price:e.cakeCharacteristics.ingredients.map(function(e){return e.price}).reduce(function(e,t){return e+t},0)+e.customizationAdmin.total_price}},function(e){return{sendToPrice:function(t){return e({type:"CHANGE_PRICE",price:t})}}})(function(e){var t=e.price;return(0,e.sendToPrice)(t),r.a.createElement("div",{className:"bloc-price"},"PRIX INDICATIF: ".concat(t.toFixed(2).replace(/[.,]00$/,"")," \u20ac"))}),Qe=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={photo:""},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.image;v.a.get("/api/image/get/".concat(t)).then(function(t){var n="data:image/jpg;base64,".concat(t.data);e.setState({photo:n})})}},{key:"render",value:function(){var e=this.state.photo,t=this.props.design;return r.a.createElement("p",null,r.a.createElement("img",{src:e,alt:"ingredient1",className:t}))}}]),t}(a.Component),Ue=Qe,_e=function(e){return{type:"REMOVE_INGREDIENT",item:e}},Re=Object(o.b)(function(e){return{cake:e.cakeCharacteristics}},function(e){return{remove:function(t){return e(_e(t))}}})(function(e){var t=e.cake;return r.a.createElement("div",null,r.a.createElement(C.q,{className:"cakeLayout"},t.ingredients.map(function(t,n,a){return function(t,n,a){var c=e.remove;if(n+1===a.length){var l=function(e){switch(e){case"Garniture":return"fillingLayout";case"Toppings":return"toppingsLayout";case"Gla\xe7age":return"icingsLayout";default:return null}}(t.type);return r.a.createElement(C.q,{key:t.name,className:"cakeProgressLayout"},r.a.createElement(Ue,{image:t.image,type:t.type,design:l}),r.a.createElement(C.b,{size:"sm",close:!0,onClick:function(){return c(t)}}))}return r.a.createElement(C.q,{className:"cakeProgressLayout"},r.a.createElement(Ue,{image:t.image,cakeLayoutType:function(e){return e}}))}(t,n,a)})),r.a.createElement(C.q,{className:"namesLayout"},t.ingredients.map(function(e){return function(e){return r.a.createElement(C.q,{key:e.name},"Base"===e.type?r.a.createElement("span",null):r.a.createElement("p",null,e.type,":"),r.a.createElement("p",null,e.name))}(e)})))}),He=Object(o.b)(function(e){return{cake:e.cakeCharacteristics,price:e.price,index:e.pageIndex}})(function(e){var t=e.index,n=e.cake;return r.a.createElement(C.e,{className:"body-row"},r.a.createElement(C.q,{className:"text-center"},r.a.createElement(qe,null)),r.a.createElement(C.q,{className:"body-compo"},r.a.createElement(C.d,{sm:"8"},function(e){var t;switch(e){case"macaron":t=r.a.createElement(Pe,null);break;case"cookie":t=r.a.createElement(Be,null);break;case"brownie":t=r.a.createElement(Te,null);break;default:t=r.a.createElement(Ve,null)}return t}(n.type),void 0),r.a.createElement(C.d,{sm:"4"},r.a.createElement(Re,null))),r.a.createElement(C.q,{sm:"12"},r.a.createElement(C.d,{sm:"8"},r.a.createElement(Fe,{index:t})),r.a.createElement(C.d,{sm:"4"},r.a.createElement(Ge,null))))}),Ye=n(94),Je=n.n(Ye),Ke=n(43),Ze=n.n(Ke),We=function(e,t){for(var n=!1,a=0;a<e.length;a+=1)if(Ze()(e[a]).isSame(t)){n=!0;break}return n},Xe=function(e,t){for(var n=e.map(function(e){return e.date}),a=e.map(function(e){return e.id}),r="",c=0;c<e.length;c+=1)if(Ze()(n[c]).isSame(t)){r=a[c];break}return r},$e=function(e){return{type:"SET_DELIVERY_DATE",date:e}},et=function(){return function(e){return v.a.get("/api/calendar/getdates").then(function(t){var n=t.data;e({type:"POPULATE_DATE_ARRAY",data:n})})}},tt=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).getTileClassName=function(e){var t=n.props,a=t.cake,r=t.order,c=t.calendar,l=new Date,i=new Date;i.setDate(l.getDate()+a.time);var o=[];return c.filter(function(t){return Ze()(e.date).isSame(t.date)&&"orangeDate"===t.color}).map(function(e){return e===o.push("possibleDate")}),(e.date<=i||6===e.date.getDay())&&o.push("possibleDate"),Ze()(e.date).isSame(r.delivery_date)&&o.push("selectedDate"),o},n.getTileDisable=function(e){var t=n.props.calendar;return!!We(t.filter(function(e){return"redDate"===e.color}).map(function(e){return e.date}),e.date)||0===e.date.getDay()},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){(0,this.props.getDatesInDB)()}},{key:"render",value:function(){var e=this,t=this.props.selectDeliveryDate;return r.a.createElement(Je.a,{onClickDay:function(e){return t(e)},tileClassName:function(t){return e.getTileClassName(t)},tileDisabled:function(t){return e.getTileDisable(t)},minDate:new Date})}}]),t}(a.Component),nt=Object(o.b)(function(e){return{cake:e.cakeCharacteristics,order:e.orderCharacteristics,calendar:e.calendarAdmin.masterCalendar}},function(e){return{getDatesInDB:function(){return e(et())},selectDeliveryDate:function(t){return e($e(t))}}})(tt),at=function(){return r.a.createElement("p",{style:{width:"70%"}},"Les dates en orange ne peuvent pas \xeatre garanties. Giluna reviendra vers vous pour vous confirmer la date de livraison.")},rt=(n(145),n(311),Object(o.b)(function(e){return{customWishes:e.customizationCustomer,cake:e.cakeCharacteristics}})(function(e){var t=e.cake,n=e.user,a=e.customWishes,c=e.photo2D,l=e.photo3D,i=e.description3D;return r.a.createElement("tbody",null,"admin"===n&&r.a.createElement("tr",null,r.a.createElement("td",null,"N\xb0"),r.a.createElement("td",null,t.id)),r.a.createElement("tr",null,r.a.createElement("td",null,"Occasion : "),r.a.createElement("td",null,t.occasion?t.occasion:"Non pr\xe9cis\xe9e")),r.a.createElement("tr",null,r.a.createElement("td",null,"Caract\xe9ristiques : "),r.a.createElement("td",null,function(e){return"cake"===e.type?"1 ".concat(e.type," de ").concat(e.story," \xe9tage(s) pour ").concat(e.size," personnes"):"cheesecake"===e.type?"1 ".concat(e.type," pour 16 personnes"):"".concat(e.quantity," ").concat(e.type," en taille ").concat(e.size)}(t))),r.a.createElement("tr",null,r.a.createElement("td",null,"Ingr\xe9dients : "),r.a.createElement("td",null,r.a.createElement("pre",{style:{fontFamily:"Arial",fontSize:"16px"}},function(e){var t="";return Array.isArray(e.ingredients)?e.ingredients.map(function(e){"Base"===e.type?t+="".concat(e.name,"\n"):t+="".concat(e.type,": ").concat(e.name,"\n")}):t=e.ingredients,t}(t)))),r.a.createElement("tr",null,r.a.createElement("td",null,"D\xe9coration : "),r.a.createElement("td",null,function(e,t,n,a){var c,l,i;return""===e.deco1&&""===e.deco2?"Aucune d\xe9coration":("message"!==e.deco1&&"message"!==e.deco2||(c=r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=".concat(e.msgFont)})),r.a.createElement("p",null,"Message imprim\xe9 sur feuille de sucre : "),r.a.createElement("span",{style:{color:e.msgColor,backgroundColor:e.msgBgColor,fontFamily:e.msgFont}},e.msgContent))),"2D"!==e.deco1&&"2D"!==e.deco2||(l=r.a.createElement("div",null,r.a.createElement("p",null,"Photo imprim\xe9e sur feuille de sucre : "),r.a.createElement("img",{src:t,alt:"D\xe9co g\xe2teau"}))),"3D"!==e.deco1&&"3D"!==e.deco2||(i=r.a.createElement("div",null,r.a.createElement("p",null,"D\xe9coration en 3D "),n&&r.a.createElement("img",{src:n,alt:"D\xe9co g\xe2teau"}),a&&r.a.createElement("p",null,a))),r.a.createElement("div",null,c,r.a.createElement("br",null),l,r.a.createElement("br",null),i))}(a,c,l,i))),r.a.createElement("tr",null,r.a.createElement("td",null,"Montant : "),r.a.createElement("td",null,function(e,t,n){var a;return"3D"===(a=t||e).deco1||"3D"===a.deco2?r.a.createElement("div",null,r.a.createElement("p",null,e.price.toFixed(2).replace(/[.,]00$/,""),"\u20ac"),r.a.createElement("p",null,"Nous reviendrons vers vous pour vous confirmer le suppl\xe9ment de la d\xe9coration 3D")):"".concat(e.price.toFixed(2).replace(/[.,]00$/,"")," \u20ac")}(t,a))))})),ct=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).componentWillMount=function(){var e=n.props.customWishes;"2D"!==e.deco1&&"2D"!==e.deco2||v.a.get("/api/image/get/".concat(e.photo1)).then(function(e){return n.setState({photo2D:"data:image/jpg;base64,".concat(e.data)})}),"3D"!==e.deco1&&"3D"!==e.deco2||(e.photo2&&v.a.get("/api/image/get/".concat(e.photo2)).then(function(e){return n.setState({photo3D:"data:image/jpg;base64,".concat(e.data)})}),e.description3D&&n.setState({description3D:e.description3D}))},n.componentWillReceiveProps=function(e){var t=e.customWishes;"2D"!==t.deco1&&"2D"!==t.deco2||v.a.get("/api/image/get/".concat(t.photo1)).then(function(e){return n.setState({photo2D:"data:image/jpg;base64,".concat(e.data)})}),"3D"!==t.deco1&&"3D"!==t.deco2||(t.photo2?v.a.get("/api/image/get/".concat(t.photo2)).then(function(e){return n.setState({photo3D:"data:image/jpg;base64,".concat(e.data)})}):n.setState({description3D:t.description3D}))},n.state={photo2D:"",photo3D:"",description3D:""},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.cake,n=e.customWishes,a=this.state,c=a.photo2D,l=a.photo3D,i=a.description3D;return r.a.createElement(C.e,null,r.a.createElement(C.r,null,r.a.createElement(rt,{customWishes:n,cake:t,user:"user",photo2D:c,photo3D:l,description3D:i})),r.a.createElement("br",null),r.a.createElement("p",null," Paiement par carte, ch\xe8que ou esp\xe8ces, en boutique."),r.a.createElement("p",null," R\xe9cup\xe9ration de la commande en boutique."))}}]),t}(a.Component),lt=Object(o.b)(function(e){return{cake:e.cakeCharacteristics,customWishes:e.customizationCustomer}})(ct),it=Object(o.b)(function(e){return{cake:e.cakeCharacteristics}},null)(function(e){var t=e.cake;return r.a.createElement(C.e,null,r.a.createElement(C.q,{className:"cakeLayout justify-content-center"},t.ingredients.map(function(e,t,n){return function(e,t,n){if(t+1===n.length){var a=function(){switch(e.type){case"Toppings":return"toppingsLayout";case"Gla\xe7age":return"icingsLayout";default:return null}};return a(e.type),r.a.createElement(C.e,null,r.a.createElement(C.q,{className:"cakeProgressLayout"},r.a.createElement("p",null,r.a.createElement("img",{src:e.image,alt:"ingredient",className:a()}))))}return r.a.createElement(C.e,null,r.a.createElement(C.q,{className:"cakeProgressLayout"},r.a.createElement("p",null,r.a.createElement("img",{src:e.image,alt:"ingredient"}))))}(e,t,n)})))}),ot=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(C.e,{style:{backgroundColor:"white"}},r.a.createElement(C.q,{className:"text-center"},r.a.createElement(qe,{page:"confirmation"})),r.a.createElement(C.q,{style:{paddingTop:"5vh"}},r.a.createElement(C.d,{sm:"4"},r.a.createElement(C.q,{center:"xs",className:"mt-3"},r.a.createElement(nt,null)),r.a.createElement(C.q,{center:"xs",className:"mt-3"},r.a.createElement(at,null))),r.a.createElement(C.d,{sm:"5",className:"mt-4"},r.a.createElement(lt,null)),r.a.createElement(C.d,{sm:"3",className:"mt-4"},r.a.createElement(it,null))),r.a.createElement(X,null))}}]),t}(a.Component),st=ot,ut=n(22),mt=n.n(ut),dt=n(37),pt=n(17),gt=function(){var e=Object(dt.a)(mt.a.mark(function e(t){var n;return mt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("/api/customer",t).then(function(e){if(e.data.id)return e.data.id});case 2:if((n=e.sent)>0){e.next=7;break}return e.next=6,v.a.post("/api/customer/new",t).then(function(e){return e.data.id});case 6:n=e.sent;case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),ft=function(e){return e.ingredients.map(function(e){return e.id})},Et=function(){var e=Object(dt.a)(mt.a.mark(function e(t){var n;return mt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("/api/customwishes/new",t).then(function(e){return e.data.id});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),ht=function(){var e=Object(dt.a)(mt.a.mark(function e(t,n){var a,r;return mt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={type:t.type,size:t.size.toString(),quantity:t.quantity,story:t.story,occasion:t.occasion,price:t.price,customWishes:n},e.next=3,v.a.post("/api/cakes/new",a).then(function(e){return e.data.id});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),bt=function(e,t){t.map(function(t){v.a.post("/api/jtcakeingredients",{cakeID:e,ingredientID:t})})},At=function(){var e=Object(dt.a)(mt.a.mark(function e(t,n,a,r,c){var l,i;return mt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l={customerID:t,cakeID:n,orderDate:a.order_date,deliveryDate:a.delivery_date,customerStatus:"Command\xe9e",adminStatus:"",customerComment:r,customerMessage:c},e.next=3,v.a.post("/api/orders/new",l).then(function(e){return 200===e.status?e.data.insertId:0});case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}},e,this)}));return function(t,n,a,r,c){return e.apply(this,arguments)}}(),yt=function(e,t){v.a.post("/api/jtclientorder",{customerID:e,orderID:t})},vt=function(e){return{type:"UPDATE_USER_INFO",information:e}},Ct=(n(315),n(229)),kt=n.n(Ct),Dt=function(e){function t(e){var n;Object(u.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).updateState=function(e){e.persist(),n.setState(function(t){return Object(pt.a)({prevState:t},e.target.id,e.target.value)})},n.setUserState=function(e){e.persist(),n.state.user.birthdate||n.setState({dobNotValid:!1}),n.setState(function(t){return{prevState:t,user:Object(De.a)({},t.user,Object(pt.a)({},e.target.id,e.target.value))}})},n.validEmail=function(e){return""!==e&&!n.mailRegex.test(e)},n.sendConfirmationEmails=function(){var e=n.state.user,t={from:"contact@gilunacoffee.com",to:e.email,title:"Confirmation de commande Giluna",text:"Bonjour ".concat(e.firstName," ").concat(e.lastName,", votre commande a bien \xe9t\xe9 prise en compte.\n              Nous reviendrons vers vous rapidement pour vous confirmer sa validation."),html:r.a.createElement("p",null,"Bonjour $",e.firstName,"$",e.lastName,",votre commande a bien \xe9t\xe9 prise en compte. Nous reviendrons vers vous rapidement pour vous confirmer sa validation.")};v.a.post("/api/send/mail",t);var a={from:"contact@gilunacoffee.com",to:"contact@gilunacoffee.com",title:"Nouvelle commande",text:"Bonjour. Une nouvelle commande vient d\u2019\xeatre r\xe9alis\xe9e sur le site. Allez voir sur votre espace admin pour y trouver la commande.",html:r.a.createElement("p",null,"Bonjour. Une nouvelle commande vient d\u2019\xeatre r\xe9alis\xe9e sur le site. Allez voir sur votre espace admin pour y trouver la commande.")};v.a.post("/api/send/mail",a)},n.invalidBirthdate=function(e){return""!==e&&(!n.birthdateRegex.test(e)&&e.length>9||void 0)},n.enterForm=function(e){return"Enter"===e.key&&n.handleClick(e),r.a.createElement(j.a,{disabled:!0,to:"".concat("","/mycake/orderConfirmation")})},n.sendOrder=function(){var e=Object(dt.a)(mt.a.mark(function e(t,a,r,c){var l,i,o,s,u,m,d,p,g;return mt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l=n.state,i=l.comment,o=l.giftcard,s=n.props.history,e.next=4,gt(a);case 4:return u=e.sent,e.next=7,ft(r);case 7:return m=e.sent,e.next=10,Et(c);case 10:return d=e.sent,e.next=13,ht(r,d);case 13:return p=e.sent,bt(p,m),e.next=17,At(u,p,t,i,o);case 17:g=e.sent,yt(u,g),g>0&&(n.sendConfirmationEmails(),s.push("".concat("","/mycake/orderConfirmation")));case 20:case"end":return e.stop()}},e,this)}));return function(t,n,a,r){return e.apply(this,arguments)}}(),n.handleClick=function(){var e=n.props,t=e.order,a=e.cake,r=e.customWishes,c=n.state,l=c.user,i=c.accept;l.firstName&&l.lastName&&l.email&&l.phone&&!(l.phone.length<8)?i?l.birthday.length>0&&!n.birthdateRegex.test(l.birthday)?n.setState({dobNotValid:!0}):n.sendOrder(t,l,a,r):n.setState({warningAccept:!0}):n.setState({inputAttempt:!0})},n.setWarning=function(e){var t=n.state.inputAttempt;return!n.state[e.target.name]&&t?{borderColor:"#dc3545"}:null},n.handleAcceptance=function(){var e=n.state.accept;n.setState({accept:!e,warningAccept:!e})};var a=n.props,c=a.customer,l=a.giftcard,i=a.comment;return n.mailRegex=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,n.birthdateRegex=/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/,n.state={user:{firstName:c.firstName,lastName:c.lastName,birthday:c.birthdate,email:c.email,phone:c.telephone},comment:i,giftcard:l,inputAttempt:!1,dobNotValid:!1,accept:!1,warningAccept:!1},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"componentWillUnmount",value:function(){(0,this.props.updateUser)(this.state)}},{key:"render",value:function(){var e=this,t=this.state,n=t.user,a=t.comment,c=t.giftcard,l=t.inputAttempt,i=t.dobNotValid,o=t.accept,s=t.warningAccept;console.log("accept",o);var u={border:"3px solid",borderColor:"#dc3545"};return r.a.createElement(C.e,{style:{backgroundColor:"white"}},r.a.createElement(C.q,{className:"text-center"},r.a.createElement(qe,null)),r.a.createElement(C.q,{className:"justify-content-around",style:{paddingTop:"5vh"}},r.a.createElement(C.d,{xs:"12",className:"alert"},l?r.a.createElement("div",null,"Veuillez renseigner les champs obligatoires* avant d\u2019envoyer la commande"):r.a.createElement("div",null)),r.a.createElement(C.d,{sm:"12",md:"4"},r.a.createElement(C.h,null,r.a.createElement(C.j,{for:"firstName"},r.a.createElement("span",{className:"text-danger"},"* "),"Pr\xe9nom"),r.a.createElement(C.i,{autoFocus:!0,type:"text",name:"firstName",id:"firstName",value:n.firstName,style:l&&!n.firstName?u:{},onChange:function(t){return e.setUserState(t)},onKeyPress:this.enterForm}))),r.a.createElement(C.d,{sm:"12",md:"4"},r.a.createElement(C.h,null,r.a.createElement(C.j,{for:"lastName"},r.a.createElement("span",{className:"text-danger"},"* "),"Nom"),r.a.createElement(C.i,{type:"text",name:"lastName",id:"lastName",value:n.lastName,style:l&&!n.lastName?u:{},onChange:function(t){return e.setUserState(t)},onKeyPress:this.enterForm}))),r.a.createElement(C.d,{sm:"12",md:"4"},r.a.createElement(C.h,null,r.a.createElement(C.j,{for:"birthdate"},"Date d\u2019anniversaire"),r.a.createElement(C.i,{invalid:n.birthday&&this.invalidBirthdate(n.birthday)||i,type:"text",name:"birthday",id:"birthday",value:n.birthday,onChange:function(t){return e.setUserState(t)},onKeyPress:this.enterForm}),r.a.createElement(C.g,null,"date de naissance non valide (format requis: JJ/MM/AAAA)"),!this.birthdateRegex.test(n.birthday)&&n.birthday&&n.birthday.length<=9?r.a.createElement("div",{className:"invalidDOB"},r.a.createElement("p",null,"Format: JJ/MM/AAAA")):r.a.createElement("div",null)))),r.a.createElement(C.q,{className:"justify-content-around"},r.a.createElement(C.d,{sm:"12",md:"6"},r.a.createElement(C.h,null,r.a.createElement(C.j,{for:"email"},r.a.createElement("span",{className:"text-danger"},"* "),"E-mail"),r.a.createElement(C.i,{invalid:this.validEmail(n.email),type:"email",name:"email",id:"email",value:n.email,style:l&&!this.mailRegex.test(n.email)?u:{},onChange:function(t){return e.setUserState(t)},onKeyPress:this.enterForm}),r.a.createElement(C.g,null,"adresse mail non valide"))),r.a.createElement(C.d,{sm:"12",md:"6"},r.a.createElement(C.h,null,r.a.createElement(C.j,{for:"telephone"},r.a.createElement("span",{className:"text-danger"},"* "),"T\xe9l\xe9phone"),r.a.createElement(C.i,{type:"text",name:"phone",id:"phone",value:n.phone,style:l&&n.phone.length<10?u:{},onChange:function(t){return e.setUserState(t)},onKeyPress:this.enterForm})))),r.a.createElement(C.q,null,r.a.createElement(C.d,{sm:"12",md:"12"},r.a.createElement(C.h,null,r.a.createElement(C.j,null,"Commentaire \xe0 Giluna"),r.a.createElement(C.i,{type:"textarea",id:"comment",value:a,onChange:function(t){return e.updateState(t)},onKeyPress:this.enterForm})))),r.a.createElement(C.q,null,r.a.createElement(C.d,{sm:"3",md:"3"},r.a.createElement("img",{src:kt.a,className:"logo",alt:"giluna-logo"})),r.a.createElement(C.d,{sm:"6",md:"6"},r.a.createElement(C.h,null,r.a.createElement(C.j,null,"Ajoutez une carte message \xe0 votre Commande"),r.a.createElement(C.i,{type:"textarea",id:"giftcard",placeholder:"Ecrivez votre message personnel ici",value:c,onChange:function(t){return e.updateState(t)},onKeyPress:this.enterForm})))),r.a.createElement(C.q,null,r.a.createElement(C.d,{sm:"11",md:"8"},r.a.createElement(C.h,null,r.a.createElement(C.j,null,"Votre message, soigneusement \xe9crit sur une carte de qualit\xe9, sera livr\xe9 avec votre g\xe2teau.")))),r.a.createElement(C.q,{style:{display:"flex",flexDirection:"row",alignItems:"center"}},r.a.createElement("input",{type:"checkbox",onChange:function(){return e.handleAcceptance()}}),r.a.createElement("span",{style:{color:s?"red":"black",marginLeft:"10px"}},"J'accepte que Giluna conserve mes donn\xe9es \xe0 usage strictement commercial.")),r.a.createElement(C.q,{className:"back-btn-userinfo"},r.a.createElement("button",{type:"button",onClick:function(){return e.handleClick()},className:"btn-confirmation"},"Envoyer la commande")))}}]),t}(a.Component),Ot=Object(o.b)(function(e){return{customer:e.customerInfo,customWishes:e.customizationCustomer,comment:e.cakeCharacteristics.comment,cake:e.cakeCharacteristics,order:e.orderCharacteristics}},function(e){return{updateUser:function(t){return e(vt(t))}}})(Dt),jt=function(e){return{type:"UPDATE_FONTS",fonts:e}},wt=function(){return function(e){return v.a.get("https://www.googleapis.com/webfonts/v1/webfonts?key=AIzaSyBvHfWdKdPsFRaVwwh8z5lNIto2Ct9xzaA").then(function(t){var n=t.data.items;localStorage.setItem("googleFonts",JSON.stringify(n)),e(jt(n))})}},St=function(){return function(e){return v.a.get("/api/customization/getfonts").then(function(t){var n=t.data;e(function(e){return{type:"POPULATE_FONTS",fonts:e}}(n))})}},Nt=function(){return function(e){v.a.get("/api/customization/getcustomprices").then(function(t){var n=t.data;e(function(e){return{type:"SEND_CUSTOM_PRICES",prices:e}}(n))})}},xt=n(230),It=(n(72),function(e){function t(e){var n;Object(u.a)(this,t);var a=e.customAdmin;return(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).updateMessage=function(e){(0,n.props.modify)("UPDATE_CUSTOM_MESSAGE",e.target.value)},n.mixFont=a.selectedFonts[Math.floor(Math.random()*a.selectedFonts.length)],n.state={randomFont:n.mixFont},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){var e=this.state.randomFont,t=this.props,n=t.sendDefaultFont;t.message.msgFont||n(e)}},{key:"render",value:function(){var e=this.props,t=e.customAdmin,n=e.message;return r.a.createElement("div",null,r.a.createElement("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=".concat(n.msgFont)}),r.a.createElement(C.i,{type:"textarea",bgSize:"sm",style:{fontFamily:n.msgFont,fontSize:"1.3em",backgroundColor:n.msgBgColor,color:n.msgColor},name:"text",id:"wantsCustomMessage",maxLength:"40",placeholder:t.placeHolder,onChange:this.updateMessage,value:n.msgContent,resize:"none"}))}}]),t}(a.Component)),zt=Object(o.b)(function(e){return{customAdmin:e.customizationAdmin}},function(e){return{}})(It),Vt=n(131),Pt=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).sendFontChoiceToParent=function(e){(0,n.props.sendFontChoice)(e)},n.state={dropdownOpen:!1},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.selectedFonts;t.wantsCustomMessage,this.state.dropdownOpen;return r.a.createElement("div",null,n.map(function(e){return r.a.createElement("div",{key:e},r.a.createElement("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=".concat(e)}))}),r.a.createElement("div",{className:"fontTable"},n.map(function(t,n){return r.a.createElement("div",{className:"fontBubbles",key:t,style:{backgroundColor:n%2===0?"#f5f5f4":"white",fontFamily:t,fontSize:"2.5vmin"},onClick:function(){return e.sendFontChoiceToParent(t)}},"Pimp my cake")})))}}]),t}(a.Component),Bt=Object(o.b)(function(e){return{selectedFonts:e.customizationAdmin.selectedFonts,wantsCustomMessage:e.customizationAdmin.wantsCustomMessage}},function(e){return{}})(Pt),Tt=function(e){var t=e.customSummary,n=e.configState,a=function(t){(0,e.modify)("CHANGE_BACKGROUND_COLOR",t.hex)},c=function(t){(0,e.modify)("CHANGE_FONT_COLOR",t.hex)},l=function(t){(0,e.modify)("CHOOSE_FONT_FAMILY",t)};return r.a.createElement("div",null,r.a.createElement(C.q,null,function(){switch(n){case"fontStyle":return r.a.createElement(Bt,{sendFontChoice:l});case"fontColor":return r.a.createElement(Vt.SketchPicker,{disableAlpha:!0,color:t.msgColor,className:"palette",name:"fontColor",onChange:c});case"backgroundColor":return r.a.createElement(Vt.SketchPicker,{disableAlpha:!0,color:t.msgBgColor,className:"palette",name:"backgroundColor",onChange:a});default:return null}}()))},Mt=function(e){var t={backgroundColor:"rgb(228, 193, 148)"},n=e.configState,a=function(t){(0,e.sendConfigState)(t)};return r.a.createElement(C.c,{className:"buttonGroup"},r.a.createElement(C.b,{onClick:function(){return a("fontStyle")},style:"fontStyle"===n?t:{},size:"sm"},"Style de l\u2019\xe9criture"),r.a.createElement(C.b,{onClick:function(){return a("fontColor")},style:"fontColor"===n?t:{},size:"sm"},"Couleur de l\u2019\xe9criture"),r.a.createElement(C.b,{onClick:function(){return a("backgroundColor")},style:"backgroundColor"===n?t:{},size:"sm"},"Couleur de fond"))},Ft=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).handleImageChange=function(e){var t=n.props,a=t.decoType;(0,t.sendFileEvent)(e,a)},n.submitFile=function(e){var t=new FormData,a=n.props.modify;t.append("avatar",e),v.a.post("/api/image/upload",t).then(function(e){a("GET_PHOTO_URL",e.data)})},n.updateDescription=function(e){(0,n.props.modify)("UPDATE_3D_DESCRIPTION",e.target.value)},n.hideInputField=function(){var e=n.props,t=e.decoType,a=e.customSummary,r=e.preview;if("2D"===t&&(r||a.photo1)||"3D"===t&&(r||a.photo2))return!0},n.state={uploaded1:"",uploaded2:""},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.customSummary,n=function(t,n){console.log("reducer photo",t),t&&v.a.get("/api/image/get/".concat(t)).then(function(t){var a="data:image/jpg;base64,".concat(t.data);e.setState(Object(pt.a)({},n,a))})};n(t.photo1,"uploaded1"),n(t.photo2,"uploaded2")}},{key:"render",value:function(){var e=this,t=this.state,n=t.uploaded1,a=t.uploaded2,c=this.props,l=c.decoType,i=c.photography,o=c.customSummary,s=c.preview,u=c.deleteUrl,m=(c.description3D,{display:"flex",flexDirection:"column",alignItems:"center"}),d=null;return d=s?r.a.createElement("div",{style:m},!i&&r.a.createElement(C.b,{style:{marginTop:"0.5vh",marginBottom:"0,5vh"},onClick:function(){return u(l)},color:"danger"},"Supprimer photo"),r.a.createElement("br",null),r.a.createElement("img",{src:s,alt:"Oups, il y a eu un petit probl\xe8me"})):r.a.createElement("div",null,r.a.createElement("div",{className:"previewText"},r.a.createElement("p",{style:{textAlign:"center"}},"Votre photo ici",r.a.createElement("br",null),"(Cliquez pour ajouter)"),r.a.createElement(C.i,{type:"file",className:"inputField",name:"2D"===l?"file1":"file2",id:"2D"===l?"file1":"file2",onChange:function(t){return e.handleImageChange(t)},maxsize:5242880,multiple:!1}))),r.a.createElement("div",{style:m},!s&&!i||s?d:r.a.createElement("img",{src:"2D"===l?n:a,alt:"Oups, il y a eu un petit probl\xe8me"}),r.a.createElement("br",null),"3D"===l&&r.a.createElement("div",{className:"b-textarea-custom"},r.a.createElement("div",{className:"lb-2"},"Description : "),r.a.createElement(C.i,{name:"description3D",type:"textarea",onChange:this.updateDescription,value:o.description3D,resize:"none",maxLength:"300",bgSize:"sm"})))}}]),t}(a.Component),Lt=function(e,t,n,a){return"message"===e||"message"===t?r.a.createElement("div",{className:"descri-custom"},"Choisissez la police du message, sa couleur et la couleur de fond ! Co\xfbt suppl\xe9mentaire :",a.price_customMessage.toFixed(2).replace(/[.,]00$/,""),"\u20ac Compatible avec une photo ou une sculpture."):"image"===e||"image"===t?r.a.createElement("div",{className:"descri-custom"},"Envoyez-nous la photo \xe0 imprimer !",r.a.createElement("b",null," Co\xfbt suppl\xe9mentaire: "),a.price_2D.toFixed(2).replace(/[.,]00$/,""),"\u20ac Compatible avec un message"):"sculpture"===e||"sculpture"===t?r.a.createElement("div",{className:"descri-custom"},"Envoyez nous une photo d\u2019inspiration, et/ou une description de votre souhait !",r.a.createElement("b",null,"Co\xfbt suppl\xe9mentaire:"),"\xc0 d\xe9terminer selon votre demande Compatible avec un message"):""},qt=(n(484),n(231)),Gt=n.n(qt),Qt=n(232),Ut=n.n(Qt),_t=n(233),Rt=n.n(_t),Ht=n(234),Yt=n.n(Ht),Jt=n(235),Kt=n.n(Jt),Zt=n(236),Wt=n.n(Zt),Xt=function(e){function t(e){var n;Object(u.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).getConfigState=function(e){n.setState({config:e})},n.getDefaultFont=function(e){n.setState(function(t){return{prevState:t,customSummary:Object(De.a)({},t.customSummary,{msgFont:e})}})},n.handleImageChange=function(e,t){var a=n.state.customSummary;e.preventDefault();var r=new FileReader,c=e.target.files[0],l="2D"===t?"imagePreviewUrl1":"imagePreviewUrl2";r.onloadend=function(){n.setState(Object(pt.a)({},l,r.result))},r.readAsDataURL(c),"2D"===t&&n.setState({fileEvent1:c}),[a.deco1,a.deco2].includes("3D")&&"3D"===t?n.decoration.current.submitFile(c):n.setState({fileEvent2:c})},n.removeDeco=function(e){var t=n.state.customSummary,a=n.props,r=a.calculatePrice,c=a.customAdmin,l=t.deco1,i=t.deco2;"message"===e&&(r(-c.price_customMessage),n.setState(function(e){return{customSummary:Object(De.a)({},e.customSummary,{msgContent:"",msgColor:"",msgBgColor:""})}})),"2D"===e&&(r(-c.price_2D),n.deleteUrl("2D"),n.setState(function(e){return{customSummary:Object(De.a)({},e.customSummary,{photo1:"",imagePreviewUrl1:""})}}),t.photo1&&v.a.delete("/api/image/delete/".concat(t.photo1))),"3D"===e&&(n.deleteUrl("3D"),n.setState(function(e){return{customSummary:Object(De.a)({},e.customSummary,{photo2:"",imagePreviewUrl2:"",description3D:""})}}),t.photo2&&v.a.delete("/api/image/delete/".concat(t.photo2))),l.includes(e)&&(l=""),i.includes(e)&&(i=""),""===l&&i&&(l=i),i="",n.setState(function(e){return{customSummary:Object(De.a)({},e.customSummary,{deco1:l,deco2:i})}})},n.updateSummary=function(e,t){var a=n.state,r=a.customSummary,c=a.typeResilient,l=a.imagePreviewUrl1,i=a.imagePreviewUrl2,o=a.fileEvent1,s=a.fileEvent2,u=n.props,m=u.calculatePrice,d=u.customAdmin,p=u.alertAction,g=function(e){n.setState(function(n){return{prevState:n,customSummary:Object(De.a)({},n.customSummary,Object(pt.a)({},e,t))}})};switch(e){case"ADD_DECORATION":return"message"!==t||r.msgContent?"2D"!==t||l?"3D"!==t||i||r.description3D?("2D"===t&&m(d.price_2D),"message"===t&&m(d.price_customMessage),"2D"===t&&n.decoration.current.submitFile(o),"3D"===t&&n.decoration.current.submitFile(s),r.deco1?g("deco2"):g("deco1")):p("Pour confirmer, veuillez chargez une image et/ou fournir une description"):p("Pour confirmer, veuillez chargez une image"):p("Pour confirmer, veuillez entrer un message");case"GET_PHOTO_URL":g("image"===c?"photo1":"photo2");break;case"UPDATE_CUSTOM_MESSAGE":return g("msgContent");case"UPDATE_3D_DESCRIPTION":return g("description3D");case"CHOOSE_FONT_FAMILY":return g("msgFont");case"CHANGE_FONT_COLOR":return g("msgColor");case"CHANGE_BACKGROUND_COLOR":return g("msgBgColor");default:return n.state}},n.open=function(e){var t,a="".concat(e,"Resilient"),r=n.state.customSummary,c=n.props.alertAction,l="message"===e?"message":"image"===e?"2D":"3D";if(r.deco1&&r.deco2&&![r.deco1,r.deco2].includes(l))switch(l){case"message":c("Seulement deux choix sont possibles. Veuillez d\xe9selectionner l\u2019option image ou 3D pour acc\xe9der au message");break;case"2D":c("Seulement deux choix sont possibles. Veuillez d\xe9selectionner l\u2019option message ou 3D pour acc\xe9der \xe0 l\u2019ajout de photo");break;case"3D":c("Seulement deux choix sont possibles. Veuillez d\xe9selectionner l\u2019option message ou image 2D pour acc\xe9der \xe0 la sculpture");break;default:return null}else n.setState((t={messageResilient:!1,imageResilient:!1,sculptureResilient:!1},Object(pt.a)(t,a,!0),Object(pt.a)(t,"typeResilient",e),t))},n.setButtonOutline=function(e){var t=n.state.customSummary;return[t.deco1,t.deco2].includes(e)?"chosen":t.deco1&&t.deco2&&![t.deco1,t.deco2].includes(e)?"notChosen":null},n.showAdded=function(e){var t=n.state.customSummary;return[t.deco1,t.deco2].includes(e)?r.a.createElement("div",{style:{minHeight:"3vh"}},r.a.createElement("span",{style:{color:"green",fontSize:"0.7em"}},"D\xe9coration ajout\xe9e"),r.a.createElement("span",{onClick:function(){return n.removeDeco(e)},style:{color:"red",fontSize:"0.7em"},className:"removeCross"},r.a.createElement("b",null,"  X"))):r.a.createElement("div",{style:{minHeight:"3vh"}})},n.deleteUrl=function(e){var t,a="2D"===e?"imagePreviewUrl1":"imagePreviewUrl2",r="2D"===e?"fileEvent1":"fileEvent2";n.setState((t={},Object(pt.a)(t,a,""),Object(pt.a)(t,r,""),t))},n.renderInfo=function(){var e=[],t=n.state,a=t.message,c=t.messageResilient,l=t.image,i=t.imageResilient,o=t.sculpture,s=t.sculptureResilient,u=t.type,m=t.typeResilient,d=t.customSummary,p=t.config,g=t.imagePreviewUrl1,f=t.imagePreviewUrl2,E=(t.confirmButtonContent,n.props),h=E.cake,b=E.custom,A=E.customAdmin,y=Lt(u,m,b,A),v={display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"};return!a&&!c||"message"!==u&&"message"!==m?l||i||o||s?e.push(r.a.createElement("div",null,r.a.createElement(C.q,{key:u,className:"body-custom"},r.a.createElement(C.d,{md:"6",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},r.a.createElement("p",null,y),n.carousel("inDeco")),r.a.createElement(C.d,{md:"6",style:v},r.a.createElement(Ft,{ref:n.decoration,modify:n.updateSummary,photography:"image"===m?d.photo1:d.photo2,customSummary:d,preview:"image"===m?g:f,decoType:"image"===m?"2D":"3D",sendFileEvent:n.handleImageChange,deleteUrl:n.deleteUrl,description3D:d.description3D}))),r.a.createElement(C.q,{className:"body-custom"},"image"===m?r.a.createElement(C.b,{name:"2D",size:"sm",color:"danger",onClick:[d.deco1,d.deco2].includes("2D")?function(){return n.removeDeco("2D")}:function(){return n.updateSummary("ADD_DECORATION","2D")}},[d.deco1,d.deco2].includes("2D")?"Supprimer l\u2019image en pate sucr\xe9e":"Ajout de l'image (".concat(A.price_2D.toFixed(2).replace(/[.,]00$/,""),"\u20ac)")):r.a.createElement(C.b,{size:"sm",color:"danger",name:"3D",onClick:[d.deco1,d.deco2].includes("3D")?function(){return n.removeDeco("3D")}:function(){return n.updateSummary("ADD_DECORATION","3D")}},[d.deco1,d.deco2].includes("3D")?"Annuler votre demande de sculpture":"Ajouter la sculpture")))):e.push(r.a.createElement("p",{key:u,style:{whiteSpace:"pre"}},y)):"cake"===h.type||"cheesecake"===h.type||""===h.type?e.push(r.a.createElement(C.e,null,r.a.createElement(C.q,{className:"decoRow"},y),r.a.createElement(C.q,{key:u,className:"body-custom"},r.a.createElement(C.d,{xs:"12",md:"4",style:v},n.carousel("inDeco")),r.a.createElement(C.d,{xs:"12",md:"4",style:{display:"flex",flexDirection:"column",justifyContent:"space-around"}},r.a.createElement(Mt,{configState:p,sendConfigState:n.getConfigState}),r.a.createElement(zt,{modify:n.updateSummary,message:d,sendDefaultFont:n.getDefaultFont})),r.a.createElement(C.d,{xs:"1",style:{display:"flex",flexDirection:"column",justifyContent:"space-around",fontSize:"2em",color:"rgb(185, 178, 157)"}},r.a.createElement("p",null,"\u2192"),r.a.createElement("p",null,"\u2190")),r.a.createElement(C.d,{xs:"12",md:"3"},r.a.createElement(Tt,{modify:n.updateSummary,customSummary:d,configState:p}))),r.a.createElement(C.q,{className:"body-custom"},r.a.createElement(C.b,{size:"sm",color:"danger",onClick:[d.deco1,d.deco2].includes("message")?function(){return n.removeDeco("message")}:function(){return n.updateSummary("ADD_DECORATION","message")}},[d.deco1,d.deco2].includes("message")?"Supprimer l\u2019ajout du message personnalis\xe9":"Ajouter le message (".concat(A.price_customMessage.toFixed(2).replace(/[.,]00$/,""),"\u20ac)"))))):e.push(r.a.createElement("p",{key:h.type,style:v},"Il n\u2019est pas possible d\u2019ajouter un message personnalis\xe9 sur votre p\xe2tisserie (brownie, cookie ou macaron)")),e},n.carousel=function(e){var t="inWelcome"===e?"carousel":"carousel-small",n="inWelcome"===e?"carousel-images":"smaller-c-images";return r.a.createElement(xt.Carousel,Object(pt.a)({className:t,autoPlay:!0,interval:1e3,infiniteLoop:!0,dynamicHeight:"true",showIndicators:!1,showThumbs:!1},"interval",4e3),r.a.createElement("div",null,r.a.createElement("img",{className:n,src:Gt.a})),r.a.createElement("div",null,r.a.createElement("img",{className:n,src:Ut.a})),r.a.createElement("div",null,r.a.createElement("img",{className:n,src:Rt.a})),r.a.createElement("div",null,r.a.createElement("img",{className:n,src:Yt.a})),r.a.createElement("div",null,r.a.createElement("img",{className:n,src:Kt.a})),r.a.createElement("div",null,r.a.createElement("img",{className:n,src:Wt.a})))};var a=e.custom;return n.decoration=r.a.createRef(),n.state={customSummary:{deco1:a.deco1,deco2:a.deco2,photo1:a.photo1,photo2:a.photo2,msgContent:a.msgContent,msgColor:a.msgColor,msgBgColor:a.msgBgColor,msgFont:a.msgFont,description3D:a.description3D},message:!1,messageResilient:!1,image:!1,imageResilient:!1,sculpture:!1,sculptureResilient:!1,type:"",typeResilient:"",config:"fontStyle",confirmButtonContent:"",fileEvent1:"",fileEvent2:"",imagePreviewUrl1:"",imagePreviewUrl2:""},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.fetchAdminFontList;0===e.customAdmin.selectedFonts.length&&t()}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.updateReducerSummary,n=(e.calculatePrice,e.customAdmin,e.alertAction,this.state.customSummary),a=n;[n.deco1,n.deco2].includes("message")||t(a=Object(De.a)({},a,{msgContent:"",msgColor:"",msgBgColor:"",msgFont:""})),[n.deco1,n.deco2].includes("3D")?t(n):t(a=Object(De.a)({},a,{description3D:""}))}},{key:"render",value:function(){var e=this;console.log(this.state);var t=this.state,n=(t.customSummary,t.messageResilient),a=t.imageResilient,c=t.sculptureResilient,l=(t.imagePreviewUrl2,{backgroundColor:"rgb(228, 193, 148)"});return r.a.createElement(C.e,null,r.a.createElement(C.q,{lg:"12",className:"decorationRow"},r.a.createElement("title-custom",{onClick:function(){return e.open("","on")}},"Choisissez votre d\xe9coration")),r.a.createElement(C.q,{style:{display:"flex",flexDirection:"row",justifyContent:"center"}},r.a.createElement(C.d,{xs:"4",style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center"}},r.a.createElement(C.b,{type:"button",id:"message",color:"warning",style:n?l:{},onClick:function(){return e.open("message","on")},className:this.setButtonOutline("message")},"Message"),this.showAdded("message")),r.a.createElement(C.d,{xs:"4",style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center"}},r.a.createElement(C.b,{type:"button",id:"image",color:"warning",style:a?l:{},onClick:function(){return e.open("image","on")},className:this.setButtonOutline("2D")},"Photo"),this.showAdded("2D")),r.a.createElement(C.d,{xs:"4",style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center"}},r.a.createElement(C.b,{type:"button",id:"sculpture",color:"warning",style:c?l:{},onClick:function(){return e.open("sculpture","on")},className:this.setButtonOutline("3D")},"D\xe9coration 3D"),this.showAdded("3D"))),r.a.createElement("div",{className:"decorationRow",style:a||n||c?{}:{display:"flex",flexDirection:"column",alignItems:"center"}},a||n||c?this.renderInfo():r.a.createElement("div",{className:"intro-custom"},r.a.createElement("s-title-custom",null,"Donnez vie \xe0 votre gourmandise en y ajoutant un message , une image ou une d\xe9coration en 3D !"))))}}]),t}(a.Component),$t=Object(o.b)(function(e){return{cake:e.cakeCharacteristics,custom:e.customizationCustomer,customAdmin:e.customizationAdmin}},function(e){return{fetchAdminFontList:function(){return e(St())},updateReducerSummary:function(t){return e(function(e){return{type:"UPDATE_CUSTOM_SUMMARY",data:e}}(t))},calculatePrice:function(t){return e(function(e){return{type:"UPDATE_CUSTOMIZATION_PRICE",data:e}}(t))},alertAction:function(t){return e(k(t))}}})(Xt),en=(n(486),Object(o.b)(null,function(e){return{sendPrices:function(t){return e(Nt())}}})(function(e){return(0,e.sendPrices)(),r.a.createElement(C.e,null,r.a.createElement(C.q,{className:"body-row"},r.a.createElement(C.d,{lg:"12",className:"text-center"},r.a.createElement("br",null),r.a.createElement(qe,null)),r.a.createElement(C.d,{sm:12,xs:12},r.a.createElement($t,null))),r.a.createElement(C.q,{className:"b-custom"},r.a.createElement(X,null),r.a.createElement(Ge,null)))})),tn=(n(488),Object(o.b)(function(e){return{customer:e.customerInfo}},null)(function(e){var t=e.customer,n=e.history;return window.scrollTo(0,0),r.a.createElement("div",{className:"main-container"},r.a.createElement("div",{className:"order-text"},r.a.createElement("b",null,"Merci d\u2019avoir pass\xe9 commande chez Pimp my Cake!"),r.a.createElement("br",null),r.a.createElement("br",null),"Un mail de r\xe9capitulatif de votre commande a \xe9t\xe9 envoy\xe9 \xe0"," ".concat(t.email),". Si vous ne le recevez pas, v\xe9rifier le dossier spam de votre messagerie.",r.a.createElement("br",null),"L\u2019\xe9quipe de Pimp My Cake reprendra contact avec vous tr\xe8s prochainement pour finaliser les d\xe9tails de la commande.",r.a.createElement("br",null),"Si vous avez des questions, n\u2019h\xe9sitez pas \xe0 nous contacter en vous rendant sur notre page de contact.",r.a.createElement("br",null),r.a.createElement("br",null),"Toute l\u2019\xe9quipe de Pimp My Cake vous remercie et vous souhaite une agr\xe9able journ\xe9e!",r.a.createElement("br",null),r.a.createElement("br",null),"A tr\xe8s bient\xf4t."),r.a.createElement("div",{className:"button-group"},r.a.createElement("a",{href:"".concat("","/")},r.a.createElement(C.b,{className:"buttons",onClick:function(){return n.push("".concat("","/"))}},"ACCUEIL")),r.a.createElement(C.b,{className:"buttons",onClick:function(){return n.push("".concat("","/contact"))}},"CONTACT")))})),nn=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(f.a,null,r.a.createElement(E.a,null,r.a.createElement(h.a,{exact:!0,path:"".concat("","/mycake"),component:ve}),r.a.createElement(h.a,{path:"".concat("","/mycake/composition"),component:He}),r.a.createElement(h.a,{path:"".concat("","/mycake/customCake"),component:en}),r.a.createElement(h.a,{path:"".concat("","/mycake/orderDetail"),component:st}),r.a.createElement(h.a,{path:"".concat("","/mycake/userInfo"),component:Ot}),r.a.createElement(h.a,{path:"".concat("","/mycake/orderConfirmation"),component:tn}))))}}]),t}(a.Component),an=n(237),rn=n.n(an),cn=n(238),ln=n.n(cn),on=n(239),sn=n.n(on),un={width:"40px",height:"40px",margin:"5px"},mn={width:"30px",height:"30px",margin:"5px"},dn={width:"30px",height:"30px",margin:"5px"},pn=function(){return r.a.createElement(C.p,{color:"light",light:!0,expand:"sm",className:"justify-content-center"},r.a.createElement(C.n,{navbar:!0},r.a.createElement(C.o,{className:"mx-5"},r.a.createElement(_.a,{to:"/",className:"nav-link lead"},r.a.createElement("i",{className:"fas fa-home mr-2"}),"Accueil")),r.a.createElement(C.o,{className:"mx-5"},r.a.createElement(_.a,{to:"/mycake",className:"nav-link lead"},r.a.createElement("i",{className:"fas fa-birthday-cake mr-2"}),"G\xe2teaux")),r.a.createElement(C.o,{className:"mx-5"},r.a.createElement(_.a,{to:"/contact",className:"nav-link lead"},r.a.createElement("i",{className:"fas fa-mail-bulk mr-2"}),"Contact"))),r.a.createElement(C.n,{style:{position:"absolute",right:"2vh",display:"row",alignItems:"center"}},r.a.createElement("a",{href:"https://www.facebook.com/gilunacoffee/",target:"blank"},r.a.createElement("img",{src:rn.a,alt:"FB logo",style:un})),r.a.createElement("a",{href:"https://instagram.com/gilunacoffee?utm_source=ig_profile_share&igshid=h06l8zj07x0i",target:"blank"},r.a.createElement("img",{src:ln.a,alt:"Instagram logo",style:mn})),r.a.createElement("a",{href:"https://www.tripadvisor.fr/Restaurant_Review-g187265-d12031731-Reviews-Giluna_Coffeehouse-Lyon_Rhone_Auvergne_Rhone_Alpes.html",target:"blank"},r.a.createElement("img",{src:sn.a,alt:"Trip advisor logo",style:dn}))))},gn=n(95),fn=function(){return"AIzaSyCKY5OS2THy-jXyAZL-BDlnyQCP8DJt1sw"},En=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).api="https://api-adresse.data.gouv.fr/search/?q=",n.state={lat:"45.746559",lng:"4.827114"},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.state,t=e.lat,n=e.lng,a=this.props.google;return r.a.createElement(C.e,{style:{width:"25vw",height:"50vh"}},r.a.createElement(gn.Map,{google:a,zoom:16,initialCenter:{lat:t,lng:n},center:{lat:t,lng:n},style:{width:"25vw",height:"50vh",border:"5px solid rgba(141, 29, 44, 0.8)",borderRadius:"40px"}},r.a.createElement(gn.Marker,{name:"Giluna Coffee House",position:{lat:t,lng:n}})))}}]),t}(a.Component),hn=fn(),bn=Object(gn.GoogleApiWrapper)({apiKey:hn})(En),An=n(240),yn=n.n(An),vn=(n(502),Object(o.b)(function(e){return{description:e.descriptions.contact}})(function(e){var t=e.description,n={display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",backgroundColor:"transparent"};return r.a.createElement(C.e,{className:"body",style:{height:"100vh",backgroundColor:"white"}},r.a.createElement(C.q,{className:"homePageRow",style:{height:"100%"}},r.a.createElement(C.d,{xs:6,style:n},r.a.createElement(C.q,null,r.a.createElement("h2",{style:{fontFamily:"Lobster Two"}},r.a.createElement("strong",{style:{color:"rgba(141, 29, 44, 0.8)"}},"Q"),"ui sommes nous",r.a.createElement("strong",{style:{color:"rgba(141, 29, 44, 0.8)"}}," ? "))),r.a.createElement(C.q,null,r.a.createElement("div",{style:{textAlign:"justify"}},t)),r.a.createElement(C.q,null,r.a.createElement("img",{src:yn.a,alt:"The team",style:{border:"5px solid rgba(141, 29, 44, 0.8)",borderRadius:"40px",width:"25vw"}}))),r.a.createElement(C.d,{xs:6,style:n},r.a.createElement(C.q,null,r.a.createElement(C.d,null,r.a.createElement("h2",{style:{fontFamily:"Lobster Two"}},r.a.createElement("strong",{style:{color:"rgba(141, 29, 44, 0.8)"}}," N"),"ous contacte",r.a.createElement("strong",{style:{color:"rgba(141, 29, 44, 0.8)"}},"r ")))),r.a.createElement(C.q,null,r.a.createElement(C.d,null,r.a.createElement("strong",{style:{textAlign:"justify"}},r.a.createElement("p",null," T\xe9l\xe9phone : 04.78.38.17.07"),r.a.createElement("p",null," Email : contact@gilunacoffee.com"),r.a.createElement("p",null," Adresse : 15 rue Delandine - 69002 Lyon")))),r.a.createElement(C.q,null,r.a.createElement(bn,null)))))})),Cn=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,null,r.a.createElement("div",{className:"body-zone"},r.a.createElement(pn,null),r.a.createElement("div",{className:"content-zone"},r.a.createElement(E.a,null,r.a.createElement(h.a,{exact:!0,path:"".concat("","/"),component:U}),r.a.createElement(h.a,{path:"".concat("","/mycake"),component:nn}),r.a.createElement(h.a,{path:"".concat("","/contact"),component:vn})))))}}]),t}(a.Component),kn=Object(O.a)(Cn),Dn=n(245),On=function(){return r.a.createElement(C.p,{color:"light",light:!0,expand:"sm",className:"justify-content-center fixed-top"},r.a.createElement(C.n,{navbar:!0},r.a.createElement(C.o,{className:"mx-5"},r.a.createElement(_.a,{to:"/giluna/adminZone/orders",className:"nav-link lead"},"Commandes")),r.a.createElement(C.o,{className:"mx-5"},r.a.createElement(_.a,{to:"/giluna/adminZone/ingredients",className:"nav-link lead"},"Ingr\xe9dients")),r.a.createElement(C.o,{className:"mx-5"},r.a.createElement(_.a,{to:"/giluna/adminZone/Customization",className:"nav-link lead"},"D\xe9coration")),r.a.createElement(C.o,{className:"mx-5"},r.a.createElement(_.a,{to:"/giluna/adminZone/calendar",className:"nav-link lead"},"Calendrier")),r.a.createElement(C.o,{className:"mx-5"},r.a.createElement(_.a,{to:"/giluna/adminZone/edit",className:"nav-link lead"},"Contenu")),r.a.createElement(C.o,{className:"mx-5"},r.a.createElement(_.a,{to:"/giluna/adminZone/clients",className:"nav-link lead"},"Clients")),r.a.createElement(C.o,{className:"mx-5"},r.a.createElement(_.a,{to:"/giluna/adminZone/adminList",className:"nav-link lead"},"Admins"))))},jn=function(e){v.a.post("/api/auth/new",e).then(function(e){200===e.status?window.alert("Success : ".concat(e.data)):window.alert("Arf : ".concat(e.data))})},wn=function(e){v.a.delete("/api/admin/".concat(e)).then(function(e){200===e.status?window.alert("Admin supprim\xe9"):window.alert("Erreur lors de la suppression")})},Sn=function(e,t){v.a.put("/api/auth/".concat(t),{newAdmin:e,id:t}).then(function(e){return window.alert(e.data)})},Nn=function(e){return v.a.post("/api/auth/login",e).then(function(e){return 200===e.status?{message:"Identification r\xe9ussie",token:e.data.token}:{message:"Erreur lors de l\u2019identification",token:""}})},xn=function(e){return{type:"REGISTER_TOKEN",token:e}},In=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).componentDidMount=function(){document.addEventListener("keydown",n.handleKeyPress,!1)},n.componentWillUnmount=function(){document.removeEventListener("keydown",n.handleKeyPress,!1)},n.handleKeyPress=function(e){var t=n.state,a=t.user,r=t.passwordConfirm;("Se connecter"===n.props.action&&""===a.name&&""===a.adminPassword||""===a.name||""===a.adminPassword||a.adminPassword!==r)&&"Enter"===e.key&&n.submitUser()},n.submitUser=Object(dt.a)(mt.a.mark(function e(){var t,a,r,c,l,i,o,s;return mt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,a=t.action,r=t.history,c=t.saveToken,l=t.index,i=t.alertAction,o=n.state.user,"Cr\xe9er"===a&&(jn(o),r.push("".concat("","/giluna/adminZone/adminList"))),"Se connecter"!==a){e.next=10;break}return e.next=6,Nn(o);case 6:s=e.sent,i(s.message),c(s.token),r.push("".concat("","/giluna/adminZone/orders"));case 10:"Modifier"===a&&(Sn(o,l),r.push("".concat("","/giluna/adminZone/adminList")));case 11:case"end":return e.stop()}},e,this)})),n.updateUser=function(e,t){n.setState(Object(De.a)({},n.state,{user:Object(De.a)({},n.state.user,Object(pt.a)({},e,t))}))},n.state={user:{id:"",password:""},passwordConfirm:""},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e,t=this,n=this.props.action,a=this.state,c=a.user,l=a.passwordConfirm,i={display:"Se connecter"===n?"none":"block",textAlign:"center",padding:"2vh"},o={textAlign:"center",padding:"2vh"};return e="Se connecter"===n?""===c.id||""===c.password:""===c.id||""===c.password||c.password!==l,r.a.createElement(C.e,null,r.a.createElement(C.q,{style:o},r.a.createElement("input",{placeholder:"Identifiant",type:"text",value:c.id,onChange:function(e){return t.updateUser("id",e.target.value)}})),r.a.createElement(C.q,{style:o},r.a.createElement("input",{placeholder:"Mot de passe",type:"password",value:c.password,onChange:function(e){return t.updateUser("password",e.target.value)}})),r.a.createElement(C.q,{style:i},r.a.createElement("input",{placeholder:"Confirmer mot de passe",type:"password",onChange:function(e){return t.setState({passwordConfirm:e.target.value})}})),r.a.createElement(C.q,{style:o},r.a.createElement(C.b,{disabled:e,onClick:function(){return t.submitUser()}},n)))}}]),t}(a.Component),zn=Object(O.a)(Object(o.b)(function(e){return{index:e.adminIndex}},function(e){return{saveToken:function(t){return e(xn(t))},alertAction:function(t){return e(k(t))}}})(In)),Vn=function(e,t){return{type:"CHANGE_ADMIN_STATUS",status:t,index:e}},Pn=function(e){return{type:"SAVE_ORDERS",orderList:e}},Bn=function(e){return{type:"SAVE_CUSTOMERS",customerList:e}},Tn=function(e){return{type:"SAVE_CAKES",cakeList:e}},Mn=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).componentWillMount=function(){var e=n.props,t=e.saveCakes,a=e.saveOrders;v.a.get("/api/orders/all").then(function(e){return a(e.data)}),v.a.get("/api/cakes/all").then(function(e){return t(e.data)})},n.changeStatus=function(e,t,a){var r=n.props.changeOrderStatus,c={from:"Giluna Pimp My Cake <giluna@pimpmycake.com>",to:a.email,title:"Commande mise \xe0 jour",text:"Bonjour ".concat(a.firstName," ").concat(a.lastName,",\n      Nous avons le plaisir de vous informer que votre commande est ").concat(t,".\n      Nous reviendrons vers vous rapidement pour vous confirmer sa validation.")};v.a.post("/api/send/mail",c),r(e,t)},n.formatDate=function(e){var t=e.slice(0,4),n=e.slice(5,7),a=e.slice(8,10);return"".concat(a,"/").concat(n,"/").concat(t)},n.getOrderStatus=function(e,t,a){var c=n.props.cakes.find(function(t){return t.id===e.cakeId}),l=null;return!c||"3D"!==c.deco1&&"3D"!==c.deco2||(l="G\xe2teau avec d\xe9coration 3D: merci de confirmer le prix avant validation"),r.a.createElement("div",null,l,r.a.createElement(C.i,{type:"select",onChange:function(r){return n.changeStatus(t,r.target.value,a.find(function(t){return t.id===e.customerId}))}},r.a.createElement("option",null),r.a.createElement("option",{selected:"accept\xe9e"===e.admin_status},"accept\xe9e"),r.a.createElement("option",{selected:"en pr\xe9paration"===e.admin_status},"en pr\xe9paration"),r.a.createElement("option",{selected:"en d\xe9coration"===e.admin_status},"en d\xe9coration"),r.a.createElement("option",{selected:"pr\xeate"===e.admin_status},"pr\xeate"),r.a.createElement("option",{selected:"pay\xe9e et r\xe9cup\xe9r\xe9e"===e.admin_status},"pay\xe9e et r\xe9cup\xe9r\xe9e")))},n.renderOrders=function(){var e=n.props,t=e.history,a=e.orders,c=e.customers,l=e.cakes,i=[];return a.length>0&&a.map(function(e,a){var o=n.formatDate(e.orderDate),s=n.formatDate(e.deliveryDate);i.push(r.a.createElement("tr",null,r.a.createElement("td",null,e.id),r.a.createElement("td",null,o),r.a.createElement("td",null,s),r.a.createElement("td",null,n.getOrderStatus(e,a,c)),r.a.createElement("td",null,e.customerComment),r.a.createElement("td",null,e.customerMessage),r.a.createElement("td",null,r.a.createElement(C.b,{color:"primary",onClick:function(){t.push({pathname:"".concat("","/giluna/adminZone/orderDetail/cake"),state:{cake:l.find(function(t){return t.id===e.cakeId})}})}},"D\xe9tail g\xe2teau")),r.a.createElement("td",null,r.a.createElement(C.b,{color:"info",onClick:function(){return t.push({pathname:"".concat("","/giluna/adminZone/orderDetail/client"),state:{customer:c.find(function(t){return t.id===e.customerId})}})}},"Info client"))))}),i},n.state={asc:!1},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(C.e,null,r.a.createElement(C.r,{striped:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"N\xb0 de commande"),r.a.createElement("th",null,"Date de commande"),r.a.createElement("th",null,"Date de livraison"),r.a.createElement("th",null,"Statut commande"),r.a.createElement("th",null,"Commentaire client"),r.a.createElement("th",null,"Message carte"),r.a.createElement("th",null,"G\xe2teau"),r.a.createElement("th",null,"Client"))),r.a.createElement("tbody",null,this.renderOrders())))}}]),t}(a.Component),Fn=Object(O.a)(Object(o.b)(function(e){return{customers:e.customerList,orders:e.orderList,cakes:e.cakeList}},function(e){return{changeOrderStatus:function(t){return e(Vn(t))},saveOrders:function(t){return e(Pn(t))},saveCakes:function(t){return e(Tn(t))}}})(Object(O.a)(Mn))),Ln=n(241),qn=n.n(Ln),Gn=n(242),Qn=n.n(Gn),Un=function(e){var t={type:e.type,size:e.size,quantity:e.quantity,story:e.story,occasion:e.occasion,price:0,customWishes:e.customWishes};return"3D"===e.deco1||"3D"===e.deco2?r.a.createElement("div",null,r.a.createElement(qn.a,{placeholder:e.price.toFixed(2).replace(/[.,]00$/,""),onChange:function(e){t.price=e.target.value},InputProps:{endAdornment:r.a.createElement(Qn.a,{position:"end"},"\u20ac")}}),r.a.createElement("p",null,"Prix \xe0 confirmer en fonction de la sculpture 3D"),r.a.createElement("button",{type:"button",onClick:function(){return function(e,t){v.a.put("/api/cakes/".concat(t),e).then(function(e){200===e.status&&window.alert("Prix mis \xe0 jour")})}(t,e.id)}},"Valider")):"".concat(e.price.toFixed(2).replace(/[.,]00$/,"")," \u20ac")},_n=function(e){var t=e.cake,n=e.user,a=e.photo2D,c=e.photo3D,l=e.description3D;return r.a.createElement("tbody",null,"admin"===n&&r.a.createElement("tr",null,r.a.createElement("td",null,"N\xb0"),r.a.createElement("td",null,t.id)),r.a.createElement("tr",null,r.a.createElement("td",null,"Occasion : "),r.a.createElement("td",null,t.occasion?t.occasion:"Non pr\xe9cis\xe9e")),r.a.createElement("tr",null,r.a.createElement("td",null,"Caract\xe9ristiques : "),r.a.createElement("td",null,function(e){return"Cake"===e.type?"1 ".concat(e.type," de ").concat(e.story," \xe9tage(s) pour ").concat(e.size," personnes"):"Cheesecake"===e.type?"1 ".concat(e.type," pour 16 personnes"):"".concat(e.quantity," ").concat(e.type," en taille ").concat(e.size)}(t))),r.a.createElement("tr",null,r.a.createElement("td",null,"Ingr\xe9dients : "),r.a.createElement("td",null,r.a.createElement("pre",{style:{fontFamily:"Arial",fontSize:"16px"}},function(e){var t="";return Array.isArray(e.ingredients)?e.ingredients.map(function(e){"Base"===e.type?t+="".concat(e.name,"\n"):t+="".concat(e.type,": ").concat(e.name,"\n")}):t=e.ingredients,t}(t)))),r.a.createElement("tr",null,r.a.createElement("td",null,"D\xe9coration : "),r.a.createElement("td",null,function(e,t,n,a){var c,l,i;return""===e.deco1&&""===e.deco2?"Aucune d\xe9coration":("message"!==e.deco1&&"message"!==e.deco2||(c=r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=".concat(e.msgFont)})),r.a.createElement("p",null,"Message imprim\xe9 sur feuille de sucre : "),r.a.createElement("span",{style:{color:e.msgColor,backgroundColor:e.msgBgColor,fontFamily:e.msgFont}},e.msgContent))),"2D"!==e.deco1&&"2D"!==e.deco2||(l=r.a.createElement("div",null,r.a.createElement("p",null,"Photo imprim\xe9e sur feuille de sucre : "),r.a.createElement("img",{src:t,alt:"D\xe9co g\xe2teau"}))),"3D"!==e.deco1&&"3D"!==e.deco2||(i=r.a.createElement("div",null,r.a.createElement("p",null,"D\xe9coration en 3D "),n&&r.a.createElement("img",{src:n,alt:"D\xe9co g\xe2teau"}),a&&r.a.createElement("p",null,a))),r.a.createElement("div",null,c,r.a.createElement("br",null),l,r.a.createElement("br",null),i))}(t,a,c,l))),r.a.createElement("tr",null,r.a.createElement("td",null,"Montant : "),r.a.createElement("td",null,Un(t))))},Rn=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).componentWillMount=function(){var e=n.props.location;"2D"!==e.state.cake.deco1&&"2D"!==e.state.cake.deco2||v.a.get("/api/image/get/".concat(e.state.cake.photo1)).then(function(e){return n.setState({photo2D:"data:image/jpg;base64,".concat(e.data)})}),"3D"!==e.state.cake.deco1&&"3D"!==e.state.cake.deco2||(e.state.cake.photo2?v.a.get("/api/image/get/".concat(e.state.cake.photo2)).then(function(e){return n.setState({photo3D:"data:image/jpg;base64,".concat(e.data)})}):n.setState({description3D:e.state.cake.description3D}))},n.componentWillReceiveProps=function(e){var t=n.props.location;"2D"!==t.state.cake.deco1&&"2D"!==t.state.cake.deco2||v.a.get("/api/image/get/".concat(t.state.cake.photo1)).then(function(e){return n.setState({photo2D:"data:image/jpg;base64,".concat(e.data)})}),"3D"!==t.state.cake.deco1&&"3D"!==t.state.cake.deco2||(t.state.cake.photo2?v.a.get("/api/image/get/".concat(t.state.cake.photo2)).then(function(e){return n.setState({photo3D:"data:image/jpg;base64,".concat(e.data)})}):n.setState({description3D:t.state.cake.description3D}))},n.state={photo2D:"",photo3D:"",description3D:""},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.location,n=e.history,a=this.state,c=a.photo2D,l=a.photo3D,i=a.description3D;return r.a.createElement(C.e,null,r.a.createElement(C.r,null,r.a.createElement("tbody",null,r.a.createElement(_n,{cake:t.state.cake,customWishes:"",user:"admin",photo2D:c,photo3D:l,description3D:i}))),r.a.createElement(C.b,{onClick:function(){return n.push("".concat("","/giluna/adminZone/orders"))}},"Retour"))}}]),t}(a.Component),Hn=Object(O.a)(Rn),Yn=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(c)))).renderClientDescription=function(e){var t=[];return t.push(r.a.createElement("tr",null,r.a.createElement("td",null,"N\xb0"),r.a.createElement("td",null,e.id)),r.a.createElement("tr",null,r.a.createElement("td",null,"Nom"),r.a.createElement("td",null,e.lastName)),r.a.createElement("tr",null,r.a.createElement("td",null,"Pr\xe9nom"),r.a.createElement("td",null,e.firstName)),r.a.createElement("tr",null,r.a.createElement("td",null,"T\xe9l\xe9phone"),r.a.createElement("td",null,e.phone)),r.a.createElement("tr",null,r.a.createElement("td",null,"Email"),r.a.createElement("td",null,e.email)),r.a.createElement("tr",null,r.a.createElement("td",null,"Date de naissance"),r.a.createElement("td",null,e.birthday))),t},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.location,n=e.history;return r.a.createElement(C.e,null,r.a.createElement(C.r,null,r.a.createElement("tbody",null,this.renderClientDescription(t.state.customer))),r.a.createElement(C.b,{onClick:function(){return n.push("".concat("","/giluna/adminZone/orders"))}},"Retour"))}}]),t}(a.Component),Jn=Object(O.a)(Yn),Kn=(n(640),function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).renderClients=function(){var e=n.props.clientsList,t=[];return e.map(function(e){return t.push(r.a.createElement("tr",null,r.a.createElement("td",null,e.firstName),r.a.createElement("td",null,e.lastName),r.a.createElement("td",null,e.birthday),r.a.createElement("td",null,e.email),r.a.createElement("td",null,e.phone)))}),t},n.state={},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(C.e,null,r.a.createElement(C.r,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Nom"),r.a.createElement("th",null,"Pr\xe9nom"),r.a.createElement("th",null,"Date de naissance"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"T\xe9l\xe9phone"))),r.a.createElement("tbody",null,this.renderClients())))}}]),t}(a.Component)),Zn=Object(o.b)(function(e){return{clientsList:e.customerList}})(Kn),Wn=(n(642),function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).chooseButton=function(e){var t=n.state,a=t.redDate,r=t.orangeDate;if(n.setState({lastClicked:e}),a||r){if(n.state[e])return null;n.setState(function(e){return{orangeDate:!e.orangeDate,redDate:!e.redDate}})}else n.setState(function(t){return Object(pt.a)({},e,!t[e])})},n.addDate=function(e,t){var a=n.props.getDatesInDB;v.a.post("/api/calendar/adddate",{date:e,color:t}).then(a())},n.removeDate=function(e){var t=n.props.getDatesInDB;v.a.delete("/api/calendar/deletedate/".concat(e)).then(t())},n.setDateAvailability=function(e,t){var a=n.props.calendar,r=n.state.lastClicked,c=Xe(a,e);We(a.map(function(e){return e.date}),e)?n.removeDate(c):""===r?alert("Veuillez d\u2019abord choisir une couleur"):n.addDate(e,[t])},n.setTileClasses=function(e){var t=n.props.calendar,a=[];return t.filter(function(t){return Ze()(e.date).isSame(t.date)}).map(function(e){return e===a.push(e.color)}),a},n.disableTile=function(e){return 0===e.date.getDay()},n.state={orangeDate:!1,redDate:!1,lastClicked:""},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){(0,this.props.getDatesInDB)()}},{key:"render",value:function(){var e=this,t=this.state,n=t.redDate,a=t.orangeDate,c=t.lastClicked;return r.a.createElement("div",{style:{marginLeft:"-10vh"}},r.a.createElement("h3",null,"Calendrier"),r.a.createElement(C.q,{className:"calendar-row"},r.a.createElement(C.d,{xs:"12",md:"5",style:{display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement("h5",null,"Gestion de vos dates"),r.a.createElement(Je.a,{onClickDay:function(t){return e.setDateAvailability(t,c)},tileClassName:function(t){return e.setTileClasses(t)},tileDisabled:function(t){return e.disableTile(t)},minDate:new Date}),r.a.createElement(C.c,null,r.a.createElement(C.b,{className:"".concat(a&&"activeButton"," buttons"),onClick:function(){return e.chooseButton("orangeDate")},color:"warning"},"Dates oranges"),r.a.createElement(C.b,{className:"".concat(n&&"activeButton"," buttons"),onClick:function(){return e.chooseButton("redDate")},color:"danger"},"Dates rouges"))),r.a.createElement(C.d,{xs:"0",md:"2",style:{display:"flex",flexDirection:"row",justifyContent:"center"}},r.a.createElement("p",{className:"arrow"},"\u2192")),r.a.createElement(C.d,{xs:"12",md:"5",style:{display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement("h5",null,"Vue c\xf4t\xe9 client"),r.a.createElement(nt,null))),r.a.createElement(C.q,{style:{backgroundColor:"rgba(214, 214, 214, 0.747)"}},r.a.createElement("b",null,"Cliquez sur un bouton color\xe9 puis sur une ou plusieurs dates du calendrier pour renseigner vos disponibilit\xe9s:")," ",r.a.createElement("br",null),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(C.a,{color:"danger"},"Dates rouges")," les clients ne peuvent pas commander \xe0 ces dates"),r.a.createElement("li",null,r.a.createElement(C.a,{color:"warning"},"Dates oranges")," vous ne garantissez pas pouvoir honorer la commande mais donnez la possibilit\xe9 au client de r\xe9server cette date."),r.a.createElement("li",{style:{marginTop:"1vh"}},"Par d\xe9faut, vous \xeates disponibles aux dates non color\xe9es et votre disponibilit\xe9 est limit\xe9e les samedis",r.a.createElement("br",null)))),r.a.createElement(C.q,{style:{backgroundColor:"rgba(255, 0, 0, 0.2)"}},"Pour supprimer une date color\xe9e, cliquez dessus."))}}]),t}(a.Component)),Xn=Object(o.b)(function(e){return{calendar:e.calendarAdmin.masterCalendar}},function(e){return{getDatesInDB:function(){return e(et())}}})(Wn),$n=function(e){function t(e){var n;Object(u.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).changeDescription=function(e,t){n.setState(Object(pt.a)({},e,t.target.value))},n.saveDescription=function(e,t){v.a.put("/api/admin/descriptions/new",t).then(function(t,n){200===t.status?window.alert("Description ".concat(e," mise \xe0 jour")):window.alert("Erreur lors de la mise \xe0 jour")})};var a=n.props,r=a.homePageDescription,c=a.contactDescription;return n.state={homePage:r,contact:c},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.homePage,a=t.contact;return r.a.createElement(C.e,null,r.a.createElement(C.q,null,r.a.createElement("h1",null,"Modifier les textes des pages d\u2019accueil / page de contact"),r.a.createElement(C.d,{xs:6,style:{display:"flex",flexDirection:"column",justifyContent:"center"}},r.a.createElement("h2",{className:"text-center"},"Texte de la page d\u2019accueil"),r.a.createElement("div",null,r.a.createElement("textarea",{style:{width:"90%",height:"30vh",margin:"5vh"},type:"text",value:n,onChange:function(t){return e.changeDescription("homePage",t)}})),r.a.createElement("button",{style:{width:"50%",margin:"auto"},type:"button",onClick:function(){return e.saveDescription("homepage",e.state)}},"Enregistrer")),r.a.createElement(C.d,{xs:6,style:{display:"flex",flexDirection:"column",justifyContent:"center"}},r.a.createElement("h2",null,"Texte de la page contact / about us"),r.a.createElement("textarea",{style:{width:"90%",height:"30vh",margin:"5vh"},type:"text",value:a,onChange:function(t){return e.changeDescription("contact",t)}}),r.a.createElement("button",{style:{width:"50%",margin:"auto"},type:"button",onClick:function(){return e.saveDescription("contact",e.state)}},"Enregistrer"))))}}]),t}(a.Component),ea=Object(o.b)(function(e){return{homePageDescription:e.descriptions.homePage,contactDescription:e.descriptions.contact}},null)($n),ta=(n(644),function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).deleteFonts=function(e){var t=n.props.fetchAdminFontList;v.a.delete("/api/customization/deletefonts/".concat(e)).then(function(e){"ok"===e.data&&t()})},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){(0,this.props.fetchAdminFontList)()}},{key:"render",value:function(){var e=this,t=this.props.selectedFonts;return r.a.createElement("div",{style:{marginBottom:"3vh"},className:"chosenFontList"},r.a.createElement("h4",null,"Votre s\xe9l\xe9ction de polices:"),r.a.createElement("p",{style:{fontSize:"0.6em",textAlign:"center",color:"red"}},"*Cliquez sur une police pour la retirer da la liste"),t.map(function(t){return r.a.createElement("span",{key:t,style:{fontFamily:t,marginRight:"4vh"},onClick:function(){return e.deleteFonts(t)}},t)}))}}]),t}(a.Component)),na=Object(o.b)(function(e){return{selectedFonts:JSON.parse(JSON.stringify(e.customizationAdmin.selectedFonts))}},function(e){return{fetchAdminFontList:function(){return e(St())}}})(ta),aa=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).generatePagination=function(){for(var e=n.props.customAdmin,t=[],a=Math.ceil(e.googleFonts.length/n.fontsAtATime),r=0;r<a;)r+=1,t.push(r);return t},n.changePage=function(e){n.setState({range:e*n.fontsAtATime+n.fontsAtATime,clickedPage:e})},n.addFont=function(e){var t=n.props,a=t.customAdmin,r=t.fetchAdminFontList,c=t.alertAction;a.selectedFonts.includes(e)?c("Vous avez d\xe9j\xe0 ajout\xe9 cette police"):v.a.post("/api/customization/addfonts",{name:e,availability:!0}).then(function(e){"OK"===e.data&&r()})},n.updateCustomPrices=function(e){var t=n.state,a=t.message,r=t.D2,c=n.props,l=c.sendPrices,i=c.alertAction,o="message"===e?a:r,s="message"===e?1:2;/^\s*-?\d+(\.\d{1,2})?\s*$/.test(o)?v.a.put("/api/customization/updatecustomprices",{price:parseFloat(o,10),id:s}).then(function(t){"OK"===t.data&&(l(),n.setState(Object(pt.a)({},e,"")))}):(i("Entr\xe9e non valide"),n.setState(Object(pt.a)({},e,"")))},n.upDatePrices=function(e){n.setState(Object(pt.a)({},e.target.name,e.target.value))},n.fontsAtATime=150,n.state={message:"",D2:"",range:n.fontsAtATime,clickedPage:0},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){(0,this.props.sendPrices)()}},{key:"render",value:function(){var e=this,t=this.state,n=t.message,a=t.D2,c=t.range,l=t.clickedPage,i=this.props.customAdmin,o=i.googleFonts.slice(c-this.fontsAtATime,c);return r.a.createElement("div",null,i.googleFonts.map(function(e){return r.a.createElement("div",{key:e.family},r.a.createElement("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=".concat(e.family)}))}),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",marginBottom:"3vh"}},r.a.createElement("table",{className:"customPricesTable"},r.a.createElement("tr",null,r.a.createElement("th",null,"Type de d\xe9coration"),r.a.createElement("th",null,"Prix actuel"),r.a.createElement("th",null,"Modifier prix")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("b",null,"Message personnalis\xe9")),r.a.createElement("td",null,i.price_customMessage.toFixed(2)," \u20ac"),r.a.createElement("td",null,r.a.createElement("input",{name:"message",value:n,type:"text",onChange:this.upDatePrices,onKeyPress:function(t){"Enter"===t.key&&e.updateCustomPrices("message")}})," \u20ac",r.a.createElement("div",null,r.a.createElement("button",{type:"submit",onClick:function(){return e.updateCustomPrices("message")},onKeyPress:function(t){"Enter"===t.key&&e.updateCustomPrices("message")}},"Valider changement")))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("b",null,"2 dimensions")),r.a.createElement("td",null,i.price_2D.toFixed(2)," \u20ac"),r.a.createElement("td",null,r.a.createElement("input",{name:"D2",value:a,type:"text",onChange:this.upDatePrices,onKeyPress:function(t){"Enter"===t.key&&e.updateCustomPrices("D2")}})," \u20ac",r.a.createElement("div",null,r.a.createElement("button",{type:"submit",onClick:function(){return e.updateCustomPrices("D2")},onKeyPress:function(t){"Enter"===t.key&&e.updateCustomPrices("D2")}},"Valider changement"))))),r.a.createElement("br",null)),r.a.createElement(na,null),r.a.createElement("p",{style:{textAlign:"center"}},"S\xe9lectionnez ci-dessous le(s) type(s) de police(s) que vous souhaitez mettre \xe0 disposition pour le message personnalis\xe9 2D"),r.a.createElement("div",null,r.a.createElement("div",{className:"FontList"},o.map(function(t){return r.a.createElement("span",{onClick:function(){return e.addFont(t.family)},className:"FontList",key:t.family,style:{fontFamily:t.family,border:"none",padding:"0"}},t.family)}))),r.a.createElement(C.c,null,this.generatePagination().map(function(t,n){return r.a.createElement(C.b,{style:n===l?{backgroundColor:"black"}:{},onClick:function(){return e.changePage(n)}},t)})))}}]),t}(a.Component),ra=Object(o.b)(function(e){return{customAdmin:e.customizationAdmin}},function(e){return{fetchFontList:function(){return e(wt())},fetchAdminFontList:function(){return e(St())},sendPrices:function(t){return e(Nt())},alertAction:function(t){return e(k(t))}}})(aa),ca=function(e){return{type:"CHANGE_ADMIN_INDEX",payload:e}},la=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).componentDidMount=function(){n.getAdminList()},n.getAdminList=Object(dt.a)(mt.a.mark(function e(){var t;return mt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("/api/admin/all").then(function(e){return e.data});case 2:t=e.sent,n.setState({adminList:t});case 4:case"end":return e.stop()}},e,this)})),n.renderList=function(){var e=n.state.adminList,t=[];return e.map(function(e){t.push(r.a.createElement("tr",null,r.a.createElement("td",null,e.name),r.a.createElement("td",null,r.a.createElement(C.b,{onClick:function(){return n.modifyAdmin(e.id)},title:"Modifier"},"\u270e")),r.a.createElement("td",null,r.a.createElement(C.b,{onClick:function(){return n.deleteAdmin(e.id)},title:"Supprimer"},"\u2717"))))}),t},n.modifyAdmin=function(e){var t=n.state.modify,a=n.props.setAdminIndex;n.setState({modify:!t}),a(e)},n.deleteAdmin=function(e){window.confirm("Supprimer cet admin ?")&&wn(e),n.getAdminList()},n.state={create:!1,modify:!1,adminList:[]},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.create,a=t.modify,c={display:n?"block":"none"},l={display:a?"block":"none"},i={display:n||a?"none":"block"};return r.a.createElement(C.e,null,r.a.createElement(C.q,null,r.a.createElement("h1",null,"Liste d'administrateurs")),r.a.createElement(C.q,{style:i,className:"text-center"},r.a.createElement("table",{style:{margin:"auto"}},r.a.createElement("tbody",null,this.renderList()))),r.a.createElement(C.q,{style:c,className:"text-center"},r.a.createElement(zn,{action:"Cr\xe9er"})),r.a.createElement(C.q,{style:l,className:"text-center"},r.a.createElement(zn,{action:"Modifier"})),r.a.createElement(C.q,{style:i,className:"text-center"},r.a.createElement(C.b,{onClick:function(){return e.setState({create:!0})}},"Nouvel admin")))}}]),t}(a.Component),ia=Object(o.b)(function(e){return{admins:e.adminList}},function(e){return{setAdminIndex:function(t){return e(ca(t))}}})(la),oa=function(){return function(e){return v.a.get("/api/ingredients").then(function(t){return e({type:"GET_INGREDIENTS",payload:t.data})})}},sa=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={photo:""},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.image;v.a.get("/api/image/get/".concat(t)).then(function(t){var n="data:image/jpg;base64,".concat(t.data);e.setState({photo:n})})}},{key:"render",value:function(){var e=this.state.photo,t=this.props.alternate;return r.a.createElement("p",null,r.a.createElement("img",{src:e,alt:t}))}}]),t}(a.Component),ua=n(40),ma=(n(646),function(e){function t(e){var n;Object(u.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).handleClickCompatible=function(e,t,a){var r=n.inheritedIngredient.compatible.indexOf(t),c={id_ingred1:n.inheritedIngredient.id,id_ingred2:e};return r>=0?(n.inheritedIngredient.compatible.splice(r,1),v.a.delete("/api/jtingredients/del/".concat(c.id_ingred2,"/").concat(c.id_ingred1)).then(function(e){return e.data}).catch(function(e){return e.response.data}),n.setState(Object(pt.a)({},a,Object(De.a)({},a,{compatible:n.inheritedIngredient.compatible})))):(n.inheritedIngredient.compatible.push(e),v.a.post("/api/jtingredients/add",c).then(function(e){return e.data}).catch(function(e){return e.response.data}),n.setState(Object(pt.a)({},a,Object(De.a)({},a,{compatible:n.inheritedIngredient.compatible})))),n.inheritedIngredient.compatible},n.handleClickAllergene=function(e,t,a){var r=n.inheritedIngredient.allergenes.indexOf(t),c={id_ingred:n.inheritedIngredient.id,id_allergene:e};return r>=0?(n.inheritedIngredient.allergenes.splice(r,1),v.a.delete("/api/jtallergenes/del/".concat(c.id_allergene,"/").concat(c.id_ingred)).then(function(e){return e.data}).catch(function(e){return e.response.data}),n.setState(Object(pt.a)({},a,Object(De.a)({},a,{allerg:n.inheritedIngredient.allergenes})))):(n.inheritedIngredient.allergenes.push(e),v.a.post("/api/jtallergenes/add",c).then(function(e){return e.data}).catch(function(e){return e.response.data}),n.setState(Object(pt.a)({},a,Object(De.a)({},a,{allerg:n.inheritedIngredient.allergenes})))),n.inheritedIngredient.allergenes},n.updateState=function(e,t){n.setState({ingredients:Object(De.a)({},t,Object(pt.a)({id:n.inheritedIngredient.id},e.target.name,e.target.value))})},n.uploadPic=function(e,t){var a=new FormData;a.append("avatar",e.target.files[0]),v.a.post("/api/image/upload",a).then(function(e){n.setState({ingredients:Object(De.a)({},t,{image:e.data})})})},n.onSubmit=function(e,t){var a=n.props.axiosDatabase;e.preventDefault();var r=t;v.a.put("/api/ingredients/".concat(r.id,"/"),r).then(function(e){return e.data}).catch(function(e){return e.response.data}),a()},n.createModifyForm=function(e,t,a,c,l,i){return r.a.createElement("div",{className:"bodyIng"},r.a.createElement("title-admin",null,"Modifier l\u2019ingr\xe9dient"," ",n.inheritedIngredient.name),r.a.createElement("p",null,'Le type "Parfum" concerne les bases de cheesecake, le type coquille repr\xe9sente les couleurs de coquille disponible.'),r.a.createElement(C.f,null,r.a.createElement(C.q,{form:!0},r.a.createElement(C.d,{md:2},r.a.createElement(C.h,null,r.a.createElement(C.j,{size:"sm"},"Nom"),r.a.createElement(C.i,{type:"text",name:"name",bsSize:"sm",onChange:function(t){return n.updateState(t,e)},placeholder:n.inheritedIngredient.name,value:e.name}))),r.a.createElement(C.d,{md:2},r.a.createElement(C.h,null,r.a.createElement(C.j,{size:"sm"},"Type"),r.a.createElement(C.i,{type:"select",name:"type",bsSize:"sm",onChange:function(t){return n.updateState(t,e)}},r.a.createElement("option",null),r.a.createElement("option",null,"Base"),r.a.createElement("option",null,"Garniture"),r.a.createElement("option",null,"Gla\xe7age"),r.a.createElement("option",null,"Toppings"),r.a.createElement("option",null,"Parfum"),r.a.createElement("option",null,"Base cookie"),r.a.createElement("option",null,"Base brownie"),r.a.createElement("option",null,"Macaron"),r.a.createElement("option",null,"Coquille")))),r.a.createElement(C.d,{md:2},r.a.createElement(C.h,null,r.a.createElement(C.j,{size:"sm"},"Taille"),r.a.createElement(C.i,{type:"text",name:"size",bsSize:"sm",onChange:function(t){return n.updateState(t,e)},placeholder:n.inheritedIngredient.size,value:e.size}))),r.a.createElement(C.d,{md:2},r.a.createElement(C.h,null,r.a.createElement(C.j,{size:"sm"},"Prix"),r.a.createElement(C.i,{type:"text",name:"price",bsSize:"sm",onChange:function(t){return n.updateState(t,e)},placeholder:n.inheritedIngredient.price,value:e.price}))),r.a.createElement(C.d,{md:4},r.a.createElement(C.h,null,r.a.createElement(C.j,{size:"sm"},"Description"),r.a.createElement(C.i,{type:"text",name:"description",bsSize:"sm",onChange:function(t){return n.updateState(t,e)},placeholder:n.inheritedIngredient.description,value:e.description})))),r.a.createElement(C.q,{form:!0},r.a.createElement(C.d,{md:2},r.a.createElement(C.h,null,r.a.createElement(C.j,{size:"sm"},"Parfum"),r.a.createElement(C.i,{type:"text",bsSize:"sm",disabled:l,name:"flavor"}))),r.a.createElement(C.d,{md:2},r.a.createElement(C.h,null,r.a.createElement(C.j,{size:"sm"},"Couleur"),r.a.createElement(C.i,{type:"text",disabled:i,bsSize:"sm",name:"color"}))),r.a.createElement(C.d,{md:5},r.a.createElement(C.j,{size:"sm"},"Image"),r.a.createElement(C.i,{type:"file",name:"file",bsSize:"sm",onChange:function(t){return n.uploadPic(t,e)}}),r.a.createElement("img",{src:c||e.image,alt:"ingredient"})),r.a.createElement(C.d,{md:2},r.a.createElement(C.h,{check:!0},r.a.createElement(C.i,{name:"dispo",type:"checkbox",bsSize:"sm",defaultChecked:e.dispo,onChange:function(){return n.setState({ingredients:Object(De.a)({},e,{dispo:!e.dispo})})},id:"dispoCheck"}),r.a.createElement(C.j,{size:"sm",for:"dispoCheck",check:!0},"Disponibilit\xe9")))),r.a.createElement(C.q,null,r.a.createElement(C.d,{md:5,className:"col-size-checkbox"},r.a.createElement(C.r,{className:"table-add-ingred"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"title-label-list"},"Compatibilit\xe9s"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,t.map(function(e){return r.a.createElement("td",{key:e.id},r.a.createElement(C.i,{name:"isCompatible",type:"checkbox",bsSize:"sm",defaultChecked:n.inheritedIngredient.compatible.includes(e.name),onChange:function(){return n.handleClickCompatible(e.id,e.name)}}),r.a.createElement(C.j,{size:"sm",check:!0},e.name))}))))),r.a.createElement(C.d,{md:5,className:"col-size-checkbox"},r.a.createElement(C.r,{className:"table-add-ingred"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"title-label-list"},"Allergenes"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,a.map(function(e){return r.a.createElement("td",{key:e.id},r.a.createElement(C.i,{name:"isAllergene",type:"checkbox",bsSize:"sm",defaultChecked:n.inheritedIngredient.allergenes.includes(e.name),onChange:function(){return n.handleClickAllergene(e.id,e.name)}}),r.a.createElement(C.j,{size:"sm"},e.name))})))))),r.a.createElement("br",null),r.a.createElement(C.q,{className:"row-modif-ing-btn"},r.a.createElement(C.b,{size:"sm",color:"secondary",onClick:function(){return n.showForm()}},"Annuler"),r.a.createElement(C.b,{size:"sm",color:"warning",onClick:function(t){n.onSubmit(t,e),n.showForm()}},"Modifier"))))},n.state={ingredients:{id:"",name:"",type:"",size:"",price:"",dispo:!0,description:"",image:"",allerg:[],compatible:[],flavor:"",color:""},fullList:[],fullAllerg:[],previewImage:null},n.handleClickCompatible=n.handleClickCompatible.bind(Object(ua.a)(Object(ua.a)(n))),n.onSubmit=n.onSubmit.bind(Object(ua.a)(Object(ua.a)(n)));var a=n.props,c=a.ingredient,l=a.showFunction;return n.inheritedIngredient=c,n.showForm=l,n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({ingredients:Object(De.a)({},this.inheritedIngredient)}),v.a.get("/api/ingredients/name").then(function(t){var n=t.data[0];e.setState({fullList:n})}),v.a.get("/api/allergenes/name").then(function(t){var n=t.data[0];e.setState({fullAllerg:n})})}},{key:"render",value:function(){var e=this.state,t=e.ingredients,n=e.fullList,a=e.fullAllerg,c=e.previewImage,l="Macaron"!==t.type,i="Coquille"!==t.type;return r.a.createElement("div",null,this.createModifyForm(t,n,a,c,l,i))}}]),t}(a.Component)),da=Object(o.b)(null,function(e){return{axiosDatabase:Object(i.b)(oa,e)}})(ma),pa=void 0,ga=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).handleChange=function(e){n.setState(Object(pt.a)({},e.target.name,e.target.value))},n.handleSubmit=Object(dt.a)(mt.a.mark(function e(){var t,a,r,c,l,i,o,s,u,m,d,p,g,f,E,h,b;return mt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.state,a=t.name,r=t.type,c=t.size,l=t.price,i=t.dispo,o=t.description,s=t.image,u=t.isCompatible,m=t.flavor,d=t.color,p=n.props,g=p.axiosDatabase,f=p.alertAction,E=p.toggleForm,h={name:a,type:r,size:c,price:l,dispo:i,description:o,image:s,isCompatible:u,flavor:m,color:d},console.log(a,r,c,l,i,o,s,u,m,d),!(0===a.length||0===r.length||0===c.length||0===l.length||"Macaron"===r&&0===m.length||"Coquille"===r&&0===d.length)){e.next=7;break}return window.alert("Merci de renseigner tous les champs"),e.abrupt("return",!1);case 7:return e.next=9,v.a.post("/api/ingredients/new",h).then(function(e){return 200===e.status&&f("L\u2019ingr\xe9dient a bien \xe9t\xe9 ajout\xe9"),e.data.insertId}).catch(function(e){return f(e.response.data)});case 9:b=e.sent,n.compatibleIngList.length>0&&n.compatibleIngList.map(function(e){var t={id_ingred1:b,id_ingred2:e};v.a.post("/api/jtingredients",t,function(e,t){return 200===t.status?"Ingr\xe9dients compatibles enregistr\xe9s !":"Error"})}),g(),n.allergeneIngList.length>0&&n.allergeneIngList.map(function(e){var t={id_ingred:b,id_allergene:e};v.a.post("/api/jtallergenes",t,function(e,t){return 200===t.status?"Allerg\xe8nes enregistr\xe9s !":"Error"})}),E(),g();case 15:case"end":return e.stop()}},e,this)})),n.toggleIngredient=function(e){var t=n.compatibleIngList.indexOf(e);t>=0?n.compatibleIngList.splice(t,1):n.compatibleIngList.push(e)},n.toggleAllergene=function(e){var t=n.allergeneIngList.indexOf(e);t>=0?n.allergeneIngList.splice(t,1):n.allergeneIngList.push(e)},n.uploadPic=function(e){var t=new FormData;t.append("avatar",e.target.files[0]),v.a.post("/api/image/upload",t).then(function(e){n.setState({image:e.data})})},n.state={name:"",type:"",size:"",price:0,dispo:!0,description:"",image:"",isCompatible:!0,flavor:"",color:"",ingredList:[],allergList:[]},n.compatibleIngList=[],n.allergeneIngList=[],n.handleChange=n.handleChange.bind(Object(ua.a)(Object(ua.a)(n))),n.handleSubmit=n.handleSubmit.bind(Object(ua.a)(Object(ua.a)(n))),n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.a.get("/api/ingredients/name").then(function(t){e.setState({ingredList:t.data[0]})}).catch(),v.a.get("/api/allergenes/name").then(function(t){e.setState({allergList:t.data[0]})}).catch()}},{key:"render",value:function(){var e=this,t=this.state,n=t.type,a=t.allergList,c=t.ingredList,l=t.dispo,i=this.props.toggleForm,o="Macaron"!==n,s="Coquille"!==n;return r.a.createElement("div",{className:"bodyIng",id:"showhide"},r.a.createElement("title-admin",null,"D\xe9crivez votre nouvel ingr\xe9dient"),r.a.createElement("p",null,'Le type "Parfum" concerne les bases de cheesecake, le type coquille repr\xe9sente les couleurs de coquille disponible.'),r.a.createElement(C.f,null,r.a.createElement(C.q,{form:!0},r.a.createElement(C.d,{md:2},r.a.createElement(C.h,null,r.a.createElement(C.j,{size:"sm"},"Nom"),r.a.createElement(C.i,{type:"text",name:"name",bsSize:"sm",onChange:this.handleChange}))),r.a.createElement(C.d,{md:2},r.a.createElement(C.h,null,r.a.createElement(C.j,{size:"sm"},"Type"),r.a.createElement(C.i,{type:"select",name:"type",bsSize:"sm",onChange:this.handleChange},r.a.createElement("option",null),r.a.createElement("option",null,"Base"),r.a.createElement("option",null,"Garniture"),r.a.createElement("option",null,"Gla\xe7age"),r.a.createElement("option",null,"Toppings"),r.a.createElement("option",null,"Parfum"),r.a.createElement("option",null,"Base cookie"),r.a.createElement("option",null,"Base brownie"),r.a.createElement("option",null,"Macaron"),r.a.createElement("option",null,"Coquille")))),r.a.createElement(C.d,{md:2},r.a.createElement(C.h,null,r.a.createElement(C.j,{size:"sm"},"Taille"),r.a.createElement(C.i,{type:"text",name:"size",bsSize:"sm",onChange:this.handleChange}))),r.a.createElement(C.d,{md:2},r.a.createElement(C.h,null,r.a.createElement(C.j,{size:"sm"},"Prix"),r.a.createElement(C.i,{type:"text",name:"price",bsSize:"sm",onChange:this.handleChange}))),r.a.createElement(C.d,{md:4},r.a.createElement(C.h,null,r.a.createElement(C.j,{size:"sm"},"Description"),r.a.createElement(C.i,{type:"text",name:"description",bsSize:"sm",onChange:this.handleChange})))),r.a.createElement(C.q,{form:!0},r.a.createElement(C.d,{md:2},r.a.createElement(C.h,null,r.a.createElement(C.j,{size:"sm"},"Parfum"),r.a.createElement(C.i,{type:"text",name:"flavor",bsSize:"sm",disabled:o,onChange:this.handleChange}))),r.a.createElement(C.d,{md:2},r.a.createElement(C.h,null,r.a.createElement(C.j,{size:"sm"},"Couleur"),r.a.createElement(C.i,{type:"text",name:"color",bsSize:"sm",disabled:s,onChange:this.handleChange}))),r.a.createElement(C.d,{md:5},r.a.createElement(C.j,null,"File"),r.a.createElement(C.i,{type:"file",name:"file",bsSize:"sm",onChange:function(t){return e.uploadPic(t)}})),r.a.createElement(C.d,{md:2},r.a.createElement(C.h,{check:!0},r.a.createElement(C.i,{name:"dispo",defaultChecked:!0,type:"checkbox",bsSize:"sm",onClick:function(){return e.setState({dispo:!l})},id:"dispoCheck"}),r.a.createElement(C.j,{size:"sm",for:"dispoCheck"},"Disponible ?")))),r.a.createElement(C.q,null,r.a.createElement(C.d,{md:5,className:"col-size-checkbox"},r.a.createElement(C.r,{className:"table-add-ingred",size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"title-label-list"},"Compatibilit\xe9s"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,c.map(function(t){return r.a.createElement("td",{className:"td-ing-list"},r.a.createElement(C.i,{name:"isCompatible",type:"checkbox",onClick:function(){return e.toggleIngredient(t.id)}}),r.a.createElement(C.j,{size:"sm",check:!0},t.name))}))))),r.a.createElement(C.d,{md:5,className:"col-size-checkbox"},r.a.createElement(C.r,{className:"table-add-ingred",size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"title-label-list"},"Allerg\xe8nes"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,a.map(function(t){return r.a.createElement("td",{className:"td-ing-list"},r.a.createElement(C.i,{name:"allergene",type:"checkbox",onClick:function(){return e.toggleAllergene(t.id)}}),r.a.createElement(C.j,{size:"sm",check:!0},t.name))})))))),r.a.createElement("br",null),r.a.createElement(C.q,{style:{textAlign:"center"}},r.a.createElement(C.b,{color:"primary",size:"sm",style:{margin:"1vh"},onClick:function(){return e.handleSubmit()}},"Ajouter"),r.a.createElement(C.b,{color:"secondary",size:"sm",style:{margin:"1vh"},onClick:function(){return i()}},"Annuler"))))}}]),t}(a.Component),fa=Object(o.b)(function(e){return{dispatch:e.dispatch,selectedIngredient:e.ingredientCharacteristics}},function(e){return{updateState:function(t){return e(pa.props.updateState(t))},axiosDatabase:Object(i.b)(oa,e),alertAction:function(t){return e(k(t))}}})(ga),Ea=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).deleteIngredient=function(e,t){var a=n.props.updateIngredients;if(window.confirm("Voulez-vous supprimer cet ingr\xe9dient ?")){var r="/api/ingredients/".concat(e),c={Authorization:"Bearer ".concat(t)};v.a.delete(r,{headers:c}).then(function(e){return window.alert(e.data.message)}).then(a())}},n.toggleModifyForm=function(){n.setState(function(e){return{showFormModify:!e.showFormModify}})},n.createTableDataRows=function(e,t){return r.a.createElement("tr",null,r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.type),r.a.createElement("td",null,e.size),r.a.createElement("td",null,e.price),r.a.createElement("td",null,e.description),r.a.createElement("td",null,r.a.createElement(sa,{image:e.image,alternate:e.name})),r.a.createElement("td",null,r.a.createElement(C.b,{type:"button",size:"sm",color:"warning",className:"btn-ad-sup",onClick:function(){return n.setState({showFormModify:!0,ingToModify:e})}},"modifier"),r.a.createElement(C.b,{type:"button",size:"sm",color:"danger",className:"btn-ad-sup",onClick:function(){return n.deleteIngredient(e.id,t)}},"supprimer")))},n.createTableData=function(e,t,a){return"All"===t?e.map(function(e){return n.createTableDataRows(e,a)}):e.filter(function(e){return e.type===t}).map(function(e){return n.createTableDataRows(e,a)})},n.toggleAddIng=function(){n.setState(function(e){return{showForm:!e.showForm}})},n.state={filterTable:"All",showForm:!1,showFormModify:!1,ingToModify:[]},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"onChangeFilterTable",value:function(e){this.setState({filterTable:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.ingredients,a=t.token,c=this.state,l=c.filterTable,i=c.showForm,o=c.showFormModify,s=c.ingToModify;return r.a.createElement("div",null,r.a.createElement(C.e,{className:"body-ingred-tb"},r.a.createElement(C.q,null,o?r.a.createElement(da,{ingredient:s,showFunction:this.toggleModifyForm}):null),r.a.createElement(C.q,null,r.a.createElement(C.d,{sm:"12"},r.a.createElement(C.b,{color:"secondary",size:"sm",className:"col-btn-tb",onClick:function(){return e.onChangeFilterTable("All")},type:"button"},"All"),r.a.createElement(C.b,{color:"secondary",size:"sm",className:"col-btn-tb",onClick:function(){return e.onChangeFilterTable("Base")},type:"button"},"Base"),r.a.createElement(C.b,{color:"secondary",size:"sm",className:"col-btn-tb",onClick:function(){return e.onChangeFilterTable("Base cookie")},type:"button"},"Base cookie"),r.a.createElement(C.b,{color:"secondary",size:"sm",className:"col-btn-tb",onClick:function(){return e.onChangeFilterTable("Base brownie")},type:"button"},"Base brownie"),r.a.createElement(C.b,{color:"secondary",size:"sm",className:"col-btn-tb",onClick:function(){return e.onChangeFilterTable("Parfum")},type:"button"},"Parfum"),r.a.createElement(C.b,{color:"secondary",size:"sm",className:"col-btn-tb",onClick:function(){return e.onChangeFilterTable("Garniture")},type:"button"},"Garniture"),r.a.createElement(C.b,{color:"secondary",size:"sm",className:"col-btn-tb",onClick:function(){return e.onChangeFilterTable("Toppings")},type:"button"},"Toppings"),r.a.createElement(C.b,{color:"secondary",size:"sm",className:"col-btn-tb",onClick:function(){return e.onChangeFilterTable("Gla\xe7age")},type:"button"},"Gla\xe7age"),r.a.createElement(C.b,{color:"secondary",size:"sm",className:"col-btn-tb",onClick:function(){return e.onChangeFilterTable("Coquille")},type:"button"},"Macaron Coquille"),r.a.createElement(C.b,{color:"secondary",size:"sm",className:"col-btn-tb",onClick:function(){return e.onChangeFilterTable("Macaron")},type:"button"},"Macaron Parfum"))),r.a.createElement(C.q,null,r.a.createElement(C.b,{outline:!0,size:"sm",color:"info",onClick:function(){return e.toggleAddIng()}},"+ Ajouter un ingr\xe9dient ?"),i?r.a.createElement(fa,{toggleForm:this.toggleAddIng}):null),r.a.createElement(C.q,{className:"body-tb"},r.a.createElement(C.d,null,r.a.createElement(C.r,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Nom"),r.a.createElement("th",null,"Type"),r.a.createElement("th",null,"Taille"),r.a.createElement("th",null,"Prix"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Image"),r.a.createElement("th",null,"Options"))),r.a.createElement("tbody",null,this.createTableData(n,l,a)))))))}}]),t}(a.Component),ha=Object(o.b)(function(e){return{ingredients:e.ingredients,token:e.adminToken,dispatch:e.dispatch}},function(e){return{updateIngredients:Object(i.b)(oa,e)}})(Ea),ba=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).componentWillMount=function(){var e=n.props,t=e.saveOrdersList,a=e.saveCustomersList,r=e.saveCakesList,c=e.getGoogleFonts,l=e.getCachedFonts,i=e.saveAdminList;v.a.get("/api/orders/all").then(function(e){return t(e.data)}),v.a.get("/api/customers/all").then(function(e){return a(e.data)}),v.a.get("/api/cakes/all").then(function(e){return r(e.data)}),v.a.get("/api/admin/all").then(function(e){return i(e.data)}),null===localStorage.getItem("googleFonts")?c():l(JSON.parse(localStorage.getItem("googleFonts")))},n.state={},n.loggedIn=!0,n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.jwtToken,t=function(t){var n=t.component,a=Object(Dn.a)(t,["component"]);return r.a.createElement(h.a,Object.assign({},a,{render:function(){return""!==e?r.a.createElement(n,null):r.a.createElement(Ce.a,{to:"/giluna/adminZone"})}}))};return r.a.createElement(C.e,{fluid:!0},r.a.createElement(C.q,null,r.a.createElement(On,null)),r.a.createElement(C.q,{className:"mt-5"},r.a.createElement(C.d,{sm:"12",className:"mt-5"},r.a.createElement(E.a,null,r.a.createElement(h.a,{exact:!0,path:"".concat("","/giluna/adminZone"),render:function(e){return r.a.createElement(zn,Object.assign({},e,{action:"Se connecter"}))}}),r.a.createElement(t,{path:"".concat("","/giluna/adminZone/orders"),component:Fn}),r.a.createElement(t,{path:"".concat("","/giluna/adminZone/ingredients"),component:ha}),r.a.createElement(t,{path:"".concat("","/giluna/adminZone/clients"),component:Zn}),r.a.createElement(t,{path:"".concat("","/giluna/adminZone/calendar"),component:Xn}),r.a.createElement(t,{path:"".concat("","/giluna/adminZone/edit"),component:ea}),r.a.createElement(t,{path:"".concat("","/giluna/adminZone/customization"),component:ra}),r.a.createElement(t,{path:"".concat("","/giluna/adminZone/adminList"),component:ia}),r.a.createElement(t,{path:"".concat("","/giluna/adminZone/orderDetail/cake"),component:Hn}),r.a.createElement(t,{path:"".concat("","/giluna/adminZone/orderDetail/client"),component:Jn})))))}}]),t}(a.Component),Aa=Object(o.b)(function(e){return{jwtToken:e.adminToken}},function(e){return{saveOrdersList:function(t){return e(Pn(t))},saveCustomersList:function(t){return e(Bn(t))},saveCakesList:function(t){return e(Tn(t))},saveAdminList:function(t){return e(function(e){return{type:"SAVE_ADMINS",adminList:e}}(t))},getGoogleFonts:function(){return e(wt())},getCachedFonts:function(t){return e(jt(t))}}})(ba),ya=n(243),va=n.n(ya),Ca=function(){return r.a.createElement(C.e,{style:{backgroundImage:'url("https://i.imgur.com/WUALrq8.jpg")',display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",height:"100vh"}},r.a.createElement(C.e,{style:{backgroundColor:"rgba(255,255,255,0.6",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",height:"100vh",width:"100vw",margin:0}},r.a.createElement("img",{src:va.a,alt:"logo",style:{width:"30vh",height:"30vh"}}),r.a.createElement("div",{style:{backgroundColor:"rgba(255,255,255,0.9",borderRadius:"20px",textAlign:"center"}},r.a.createElement("h1",null,"D\xe9sol\xe9es, notre site n'est pas accessible sur votre appareil..."),r.a.createElement("br",null),r.a.createElement("b",{style:{fontSize:"1.5em",fontFamily:"Lobster Two, cursive"}},"Mais nous vous attendons avec impatience depuis une tablette ou un ordinateur !"))))},ka=function(e){return{type:"CHANGE_DESCRIPTIONS",descriptions:e}},Da=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).componentWillMount=function(){var e=n.props,t=(e.saveOrdersList,e.saveCustomersList,e.saveCakesList,e.saveDescriptions);(0,e.axiosDatabase)(),v.a.get("/api/admin/descriptions").then(function(e){return t(e.data)})},n.state={},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(function(e){return r.a.createElement(A.a,Object.assign({},e,{minWidth:768}))},null,r.a.createElement(D,null),r.a.createElement(f.a,{className:"d-none d-md-block"},r.a.createElement(E.a,null,r.a.createElement(h.a,{path:"".concat("","/giluna/adminZone"),component:Aa}),r.a.createElement(h.a,{path:"".concat("","/"),component:kn})))),r.a.createElement(function(e){return r.a.createElement(A.a,Object.assign({},e,{maxWidth:767}))},null,r.a.createElement(Ca,null)))}}]),t}(a.Component),Oa=Object(o.b)(function(e){return{dispatch:e.dispatch}},function(e){return{saveOrdersList:function(t){return e(Pn(t))},saveCustomersList:function(t){return e(Bn(t))},saveCakesList:function(t){return e(Tn(t))},saveDescriptions:function(t){return e(ka(t))},axiosDatabase:Object(i.b)(oa,e)}})(Da),ja=n(244),wa=n.n(ja),Sa={type:"",size:0,story:1,quantity:1,occasion:"",ingredients:[],comment:"",price:0,time:2},Na=Object(i.c)({ingredients:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_INGREDIENTS":return t.payload.map(function(e){return function(e){var t=e;return t.allergenes=e.allergenes?e.allergenes.split(","):[],t.compatible=e.compatible?e.compatible.split(","):[],t}(e)});default:return e}},cakeCharacteristics:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sa,t=arguments.length>1?arguments[1]:void 0,n=e.ingredients,a=n.indexOf(t.item);switch(t.type){case"CHANGE_CAKE_TYPE":return t.payload;case"CHANGE_CAKE_BASE":return wa()(e,{ingredients:{0:{name:{$set:t.payload}}}});case"ADD_INGREDIENT":return n.push(t.item),Object(De.a)({},e,{ingredients:n});case"REMOVE_INGREDIENT":return n.splice(a,1),Object(De.a)({},e,{ingredients:n});case"CHANGE_CAKE_SIZE":return Object(De.a)({},e,{size:t.payload});case"CHANGE_CAKE_AMOUNT":return Object(De.a)({},e,{quantity:t.payload});case"CHANGE_CAKE_STORY":return Object(De.a)({},e,{story:t.payload});case"CHANGE_PRICE":return Object(De.a)({},e,{price:t.price});case"CHANGE_CAKE_OCCASION":return Object(De.a)({},e,{occasion:t.occasion});case"UPDATE_USER_INFO":return Object(De.a)({},e,{comment:t.information.comment});default:return e}},calendarAdmin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{masterCalendar:[]},t=arguments.length>1?arguments[1]:void 0,n=[];switch(t.type){case"POPULATE_DATE_ARRAY":return n=[],t.data.map(function(e){return n.push(e)}),{masterCalendar:n};default:return e}},pageIndex:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_INDEX":return e+t.payload;case"UPDATE_INDEX_VIA_PROGRESSBAR":return t.payload;default:return e}},defaultImage:function(){return{cakeBases:"https://us.123rf.com/450wm/lineartestpilot/lineartestpilot1603/lineartestpilot160301315/53117851-freehand-drawn-black-and-white-cartoon-cake.jpg?ver=6",cakeIcings:"https://photos.gograph.com/thumbs/CSP/CSP995/cartoon-cup-cake-stock-illustration_k15560995.jpg",cakeFillings:"https://ithair.us/wp-content/uploads/2018/10/cartoon-cake-black-and-white-fresh-cake-cartoon-drawing-at-getdrawings-of-cartoon-cake-black-and-white.jpg",cakeToppings:"http://orewa.org/wp-content/uploads/2013/11/birthday-cake-clip-art-free-black-and-white.jpg"}},chosenStories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=e;switch(t.type){case"ADD_PIECES":return n.push(t.payload),n;case"REMOVE_PIECES":return-1===n.indexOf(t.payload)?e:(n.splice(n.indexOf(t.payload),1),n);case"RESET_PIECES":return[];default:return e}},orderCharacteristics:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{customer:"",cake:"",order_date:new Date,delivery_date:"",customer_status:"",admin_status:"",customer_comments:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DELIVERY_DATE":return Object(De.a)({},e,{delivery_date:Ze()(t.date)});default:return e}},customerInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{firstName:"",lastName:"",birthdate:"",email:"",telephone:""},t=arguments.length>1?arguments[1]:void 0;return"UPDATE_USER_INFO"===t.type?t.information.user:e},customizationAdmin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{selectedFonts:[],googleFonts:[],price_customMessage:0,price_2D:0,placeHolder:"Votre message ici",total_price:0},t=arguments.length>1?arguments[1]:void 0,n=e.selectedFonts;switch(t.type){case"UPDATE_FONTS":return Object(De.a)({},e,{googleFonts:t.fonts});case"POPULATE_FONTS":return n=[],t.fonts.map(function(e){return n.push(e.name)}),Object(De.a)({},e,{selectedFonts:n});case"UPDATE_CUSTOMIZATION_PRICE":return Object(De.a)({},e,{total_price:e.total_price+t.data});case"SEND_CUSTOM_PRICES":return Object(De.a)({},e,{price_customMessage:t.prices[0].price,price_2D:t.prices[1].price});default:return e}},customizationCustomer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{deco1:"",deco2:"",photo1:"",photo2:"",description3D:"",msgContent:"",msgColor:"",msgBgColor:"",msgFont:""},t=arguments.length>1?arguments[1]:void 0;return"UPDATE_CUSTOM_SUMMARY"===t.type?t.data:e},databaseDisplay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{alpha:"",beta:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CATEGORY":return Object(De.a)({},e,{alpha:t.category});case"MOD_SET_CATEGORY":return Object(De.a)({},e,{beta:t.category});default:return e}},databaseNewIngredientDisplay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{new:!1,modify:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_FORM":return Object(De.a)({},e,{new:t.visible});case"TOGGLE_MODIFY_FORM":return Object(De.a)({},e,{modify:t.show});default:return e}},databaseModifyFormIndex:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_INDEX":return t.index;default:return e}},adminIndex:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_ADMIN_INDEX":return t.payload;default:return e}},adminToken:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER_TOKEN":return t.token;default:return e}},cakeList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{id:"",type:"",size:"",quantity:"",story:"",occasion:"",price:"",customWishes:"",ingredients:[]}],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_CAKES":return t.cakeList;default:return e}},orderList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{id:"",cakeId:"",deliveryDate:"",orderDate:"",customerId:"",customerStatus:"",adminStatus:"",customerComment:"",customerMessage:""}],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_ORDERS":return t.orderList;default:return e}},customerList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{id:"",firstName:"",lastName:"",email:"",phone:"",birthday:""}],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_CUSTOMERS":return t.customerList;default:return e}},adminList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{id:"",name:"",password:""}],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_ADMINS":return t.adminList;default:return e}},descriptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{homePage:"",contact:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_DESCRIPTIONS":return{homePage:t.descriptions.data[0].homePage,contact:t.descriptions.data[0].contact};default:return e}},alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{alert:!1,message:""},t=arguments.length>1?arguments[1]:void 0;return"ALERT"===t.type?Object(De.a)({},e,{alert:!e.alert,message:t.message}):e}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(649);var xa=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,Ia=Object(i.e)(Na,xa(Object(i.a)(s.a)));l.a.render(r.a.createElement(o.a,{store:Ia},r.a.createElement(Oa,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},67:function(e,t,n){},72:function(e,t,n){}},[[246,2,1]]]);
//# sourceMappingURL=main.97d3e9ca.chunk.js.map